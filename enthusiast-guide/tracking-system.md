---
title: 由内而外跟踪的工作原理
description: 有关在 Windows Mixed Reality 耳机中使用的基于照相机的内部跟踪系统的信息。
ms.topic: article
keywords: Windows Mixed Reality，混合现实，虚拟现实，VR，先生，从内到外，内幕，跟踪，照相机
ms.openlocfilehash: a91b5fba399e9bb328fd579811a64aee03b49efd
ms.sourcegitcommit: 5eb27475f8616c9d4f95b4b386a5bd0d22f41125
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/19/2020
ms.locfileid: "92174332"
---
# <a name="inside-out-tracking"></a><span data-ttu-id="84fd9-104">内部跟踪</span><span class="sxs-lookup"><span data-stu-id="84fd9-104">Inside-out tracking</span></span>

## <a name="how-does-inside-out-tracking-work"></a><span data-ttu-id="84fd9-105">内部跟踪如何工作？</span><span class="sxs-lookup"><span data-stu-id="84fd9-105">How does inside-out tracking work?</span></span>

<span data-ttu-id="84fd9-106">**快速解答：** 跟踪系统使用两个可见的低分辨率相机来观察您的环境中的功能，并将此信息与 IMU 数据融合，以确定设备在您的环境中的确切位置。</span><span class="sxs-lookup"><span data-stu-id="84fd9-106">**Quick answer:** the tracking system uses two visible-light low-resolution cameras to observe features in your environment, and fuses this information with IMU data to determine a precise position of the device in your environment.</span></span>

<span data-ttu-id="84fd9-107">**更多详细信息：** 跟踪系统使用两个低分辨率黑色和白色的照相机来识别您的环境中的特征。</span><span class="sxs-lookup"><span data-stu-id="84fd9-107">**More details:** The tracking system uses two low-resolution black and white cameras to identify features in your environment in visible light.</span></span> <span data-ttu-id="84fd9-108">系统会根据观察到的功能三角化其位置，并通过融合高比特率 IMU 数据来对此信息进行补充，从而为你的环境中的 HMD 生成连续的姿势估算。</span><span class="sxs-lookup"><span data-stu-id="84fd9-108">The system will triangulate its position based on the observed features, and supplement this information by fusing high rate IMU data to produce a continuous pose estimation for the HMD in your environment.</span></span> <span data-ttu-id="84fd9-109">这两个应用程序都使用姿势信息呈现场景和系统，以便针对时间和位置的任何错误预测更正此呈现。</span><span class="sxs-lookup"><span data-stu-id="84fd9-109">The pose information is used by both applications to render a scene and by the system to correct this rendering for any mis-prediction in time and position.</span></span> <span data-ttu-id="84fd9-110">有关您的环境的信息存储在您的 PC 上，以便跟踪系统可以召回特定于环境的数据，例如空间中边界的物理位置。</span><span class="sxs-lookup"><span data-stu-id="84fd9-110">Information on your environment is stored on your PC so that the tracking system can recall environment specific data such as the physical location of the boundary in your room.</span></span> <span data-ttu-id="84fd9-111">如果您在多个房间内使用您的设备，则可以在每个房间内设置不同的边界，并且跟踪系统将能够撤回特定房间的特定边界。</span><span class="sxs-lookup"><span data-stu-id="84fd9-111">If you use your device in multiple rooms, you can set up different boundaries in each room and the tracking system will be able to recall the specific boundary for the specific room.</span></span>

<span data-ttu-id="84fd9-112">由于在 Windows Mixed Reality 沉浸式耳机上进行跟踪的工作方式类似于在 [Microsoft HoloLens](https://www.microsoft.com/en-us/hololens)上进行跟踪，你可能会发现此视频非常有用：</span><span class="sxs-lookup"><span data-stu-id="84fd9-112">Because tracking on Windows Mixed Reality immersive headsets works like tracking on [Microsoft HoloLens](https://www.microsoft.com/en-us/hololens), you may find this video useful:</span></span>

>[!VIDEO https://www.youtube.com/embed/TneGSeqVAXQ]

## <a name="what-do-i-need-to-make-tracking-work-well"></a><span data-ttu-id="84fd9-113">要使跟踪工作良好，需要执行哪些操作？</span><span class="sxs-lookup"><span data-stu-id="84fd9-113">What do I need to make tracking work well?</span></span>

<span data-ttu-id="84fd9-114">要解决这两个问题，以确保跟踪非常适合你：</span><span class="sxs-lookup"><span data-stu-id="84fd9-114">There are two concerns to address to ensure tracking will work well for you:</span></span>
1. <span data-ttu-id="84fd9-115">确保你的电脑满足运行 Windows Mixed Reality 的要求。</span><span class="sxs-lookup"><span data-stu-id="84fd9-115">Ensure your PC meets the requirements to run Windows Mixed Reality.</span></span> <span data-ttu-id="84fd9-116">如果你的电脑满足 Windows Mixed Reality 的最低要求，则跟踪将有足够的资源可在你的电脑上正常运行。</span><span class="sxs-lookup"><span data-stu-id="84fd9-116">If your PC meets the minimum requirements for Windows Mixed Reality, tracking will have enough resources to run well on your PC.</span></span>
2. <span data-ttu-id="84fd9-117">确保你的环境适合于设备使用的视觉对象跟踪类型。</span><span class="sxs-lookup"><span data-stu-id="84fd9-117">Ensure your environment is suitable for the type of visual tracking the device employs.</span></span> <span data-ttu-id="84fd9-118">你应在具有足够光线的环境中使用该设备。</span><span class="sxs-lookup"><span data-stu-id="84fd9-118">You should use the device in an environment with enough light.</span></span> <span data-ttu-id="84fd9-119">因为设备的工作原理是观察您的环境中的可见性，所以必须有足够的光线，才能观察到该环境。</span><span class="sxs-lookup"><span data-stu-id="84fd9-119">Because the device works by observing your environment in visible light, there must be enough light so that the environment can be observed.</span></span> <span data-ttu-id="84fd9-120">还必须有足够的视觉功能 () ，使跟踪系统能够正常运行，。</span><span class="sxs-lookup"><span data-stu-id="84fd9-120">There must also be enough distinguishing visual features (in other words, decorations, points of contrast, etc.) for the tracking system to work.</span></span>

## <a name="how-much-light-is-enough-light"></a><span data-ttu-id="84fd9-121">光源有多少？</span><span class="sxs-lookup"><span data-stu-id="84fd9-121">How much light is enough light?</span></span>

<span data-ttu-id="84fd9-122">一种很好的经验法则是，如果您能够在环境中轻松地四处移动，而且您可以在房间内观察其他人的功能，那么跟踪系统可能具有足够的光线。</span><span class="sxs-lookup"><span data-stu-id="84fd9-122">A good rule of thumb is if you can comfortably move around in the environment without feeling it is too dark and if you can observe the features on another persons face from across the room, then the tracking system probably has enough light.</span></span>

## <a name="what-is-the-recommended-amount-of-environmental-features"></a><span data-ttu-id="84fd9-123">建议的环境功能量是多少？</span><span class="sxs-lookup"><span data-stu-id="84fd9-123">What is the recommended amount of environmental features?</span></span>

<span data-ttu-id="84fd9-124">此产品设计为在正常环境中工作。</span><span class="sxs-lookup"><span data-stu-id="84fd9-124">The product has been designed to work in normal environments.</span></span> <span data-ttu-id="84fd9-125">请考虑以下思考试验-如果你处于完全空白的房间 (白名单、白色天花板、白底) ，则跟踪系统将找不到任何要跟踪的功能，并且会失败。</span><span class="sxs-lookup"><span data-stu-id="84fd9-125">Consider the following thought experiment - if you were in a completely blank room (white walls, white ceiling, white floor) then the tracking system would find no features to track and would fail.</span></span> <span data-ttu-id="84fd9-126">如果你位于作品和装饰作品所涵盖的空间中，则跟踪系统会发现许多功能要进行跟踪，而且效果会很好。</span><span class="sxs-lookup"><span data-stu-id="84fd9-126">If you were in a room that was covered in art work and decoration, then the tracking system would find many features to track and would work well.</span></span> <span data-ttu-id="84fd9-127">在大多数情况下，我们已经演示了装饰的家庭和办公室，足以更好地跟踪功能。</span><span class="sxs-lookup"><span data-stu-id="84fd9-127">For the most part, typically decorated homes and offices have been demonstrated to have sufficient feature detail to track well.</span></span>

## <a name="how-fast-can-i-move-with-the-device"></a><span data-ttu-id="84fd9-128">在设备上移动的速度有多快？</span><span class="sxs-lookup"><span data-stu-id="84fd9-128">How fast can I move with the device?</span></span>

<span data-ttu-id="84fd9-129">该设备旨在支持运动，使其超出了人类头运动通常经历的体验。</span><span class="sxs-lookup"><span data-stu-id="84fd9-129">The device is designed to support motion in excess of what is normally experienced by human head motion.</span></span> <span data-ttu-id="84fd9-130">可以随意移动。</span><span class="sxs-lookup"><span data-stu-id="84fd9-130">Feel free to move at will.</span></span> <span data-ttu-id="84fd9-131">请记住，在沉浸式头戴显示设备时，您对物理周围环境的认知度已经降低，因此，请确保在您的环境中安全地移动。</span><span class="sxs-lookup"><span data-stu-id="84fd9-131">Keep in mind, you have reduced awareness of your physical surroundings while in an immersive headset, so ensure you are moving safely in your environment.</span></span>

## <a name="where-will-tracking-not-work"></a><span data-ttu-id="84fd9-132">跟踪不起作用？</span><span class="sxs-lookup"><span data-stu-id="84fd9-132">Where will tracking not work?</span></span>

<span data-ttu-id="84fd9-133">在较低的房间内，如果相机不能看到充足的功能，则跟踪将不起作用。</span><span class="sxs-lookup"><span data-stu-id="84fd9-133">Tracking will not work in a dark room where the cameras will not be able to see enough features due to low light.</span></span> <span data-ttu-id="84fd9-134">通常情况下，跟踪不会执行良好 (或有时在移动汽车（例如飞机、客车、火车、汽车或电梯）的所有) 中工作。</span><span class="sxs-lookup"><span data-stu-id="84fd9-134">Tracking will generally not perform well (or sometimes work at all) in moving vehicles such as airplanes, buses, trains, cars or elevators.</span></span>

## <a name="what-is-the-difference-between-3dof-and-6dof"></a><span data-ttu-id="84fd9-135">3DOF 和6DOF 之间的区别是什么？</span><span class="sxs-lookup"><span data-stu-id="84fd9-135">What is the difference between 3DOF and 6DOF?</span></span>

<span data-ttu-id="84fd9-136">首先，DOF 是 "自由度" 的简短。</span><span class="sxs-lookup"><span data-stu-id="84fd9-136">First, DOF is short-hand for "degrees of freedom."</span></span> <span data-ttu-id="84fd9-137">讨论跟踪系统时，这意味着可检测到的移动的程度或类型。</span><span class="sxs-lookup"><span data-stu-id="84fd9-137">When discussing tracking systems, this means the degrees or types of movement that can be detected.</span></span> <span data-ttu-id="84fd9-138">这些变动分为两大类： "旋转" 和 "带转换的旋转"。</span><span class="sxs-lookup"><span data-stu-id="84fd9-138">These movements are broken down into two major categories: 'rotation' and 'rotation with translation'.</span></span> <span data-ttu-id="84fd9-139">3DOF 指的是3度的自由度，表示每个轴的旋转。</span><span class="sxs-lookup"><span data-stu-id="84fd9-139">3DOF refers to 3 degrees of freedom and represents rotations about each axis.</span></span> <span data-ttu-id="84fd9-140">简单地说，3DOF 跟踪使你可以向左或向右、向上/向下或向下倾斜 (滚) 方。</span><span class="sxs-lookup"><span data-stu-id="84fd9-140">Put simply, 3DOF tracking allows you to look left/right, up/down and tilt your head (roll) side to side.</span></span> <span data-ttu-id="84fd9-141">无法在3DOF 中转换或向前/向后进行转换。</span><span class="sxs-lookup"><span data-stu-id="84fd9-141">You cannot translate or walk forwards/backwards in 3DOF.</span></span> <span data-ttu-id="84fd9-142">6DOF 的长度为6度。</span><span class="sxs-lookup"><span data-stu-id="84fd9-142">6DOF is short for 6 degrees of freedom.</span></span> <span data-ttu-id="84fd9-143">它基于3DOF 的旋转，并添加到 it 翻译。</span><span class="sxs-lookup"><span data-stu-id="84fd9-143">It builds on the rotations of 3DOF and adds to it translations.</span></span> <span data-ttu-id="84fd9-144">这意味着，可以向前/向后、strafe 向下、向下和 crouch。</span><span class="sxs-lookup"><span data-stu-id="84fd9-144">This means you can walk forwards/backwards, strafe left/right and crouch down and stand up.</span></span> <span data-ttu-id="84fd9-145">3 DOF 跟踪是你通常在手机或移动版的 VR 产品上发现的跟踪类型，而6DOF 将在更强大的 VR 平台上找到。</span><span class="sxs-lookup"><span data-stu-id="84fd9-145">3 DOF tracking is the type of tracking you would typically find on a phone or mobile based VR product, while 6DOF will be found on more powerful VR platforms.</span></span> <span data-ttu-id="84fd9-146">一些经验定制为3DOF，只允许3DOF 运动 (旋转) ，即使设备支持6DOF 跟踪。</span><span class="sxs-lookup"><span data-stu-id="84fd9-146">Some experiences are tailored to 3DOF and will only allow 3DOF motion (rotations), even if the device supports 6DOF tracking.</span></span> <span data-ttu-id="84fd9-147">例如，在 Windows Mixed Reality 中观看360视频。</span><span class="sxs-lookup"><span data-stu-id="84fd9-147">An example of this would be watching a 360 video in Windows Mixed Reality.</span></span> <span data-ttu-id="84fd9-148">视频允许您进行查找，但不允许您在您的环境中进行浏览。</span><span class="sxs-lookup"><span data-stu-id="84fd9-148">The video will allow you to look around but will not allow you to walk in your environment.</span></span>

## <a name="things-are-jittering-or-stuttering-in-my-headset-is-my-tracking-not-working"></a><span data-ttu-id="84fd9-149">我的耳机中 jittering 或断断续续。</span><span class="sxs-lookup"><span data-stu-id="84fd9-149">Things are jittering or stuttering in my headset.</span></span> <span data-ttu-id="84fd9-150">我的跟踪是否不起作用？</span><span class="sxs-lookup"><span data-stu-id="84fd9-150">Is my tracking not working?</span></span>

<span data-ttu-id="84fd9-151">此类错误有几个源。</span><span class="sxs-lookup"><span data-stu-id="84fd9-151">There are a couple sources of this kind of error.</span></span> <span data-ttu-id="84fd9-152">必须能够将观察到的内容确定为正确的原因，以便解决问题。</span><span class="sxs-lookup"><span data-stu-id="84fd9-152">It is important to be able to attribute what you are observing to the right cause so that it may be addressed.</span></span> <span data-ttu-id="84fd9-153">请参阅 [故障排除](tracking.md) 部分，以帮助了解发生此问题的原因。</span><span class="sxs-lookup"><span data-stu-id="84fd9-153">See the [troubleshooting](tracking.md) section to help understand why this may be happening.</span></span>

## <a name="can-i-bring-my-own-tracking-technology-to-windows-mixed-reality"></a><span data-ttu-id="84fd9-154">我能否将我自己的跟踪技术引入 Windows Mixed Reality？</span><span class="sxs-lookup"><span data-stu-id="84fd9-154">Can I bring my own tracking technology to Windows Mixed Reality?</span></span>

<span data-ttu-id="84fd9-155">暂不支持。</span><span class="sxs-lookup"><span data-stu-id="84fd9-155">This is not currently supported.</span></span>

## <a name="why-do-i-see-ui-that-says-cant-find-your-boundary"></a><span data-ttu-id="84fd9-156">为什么会看到显示 "找不到边界" 的 UI？</span><span class="sxs-lookup"><span data-stu-id="84fd9-156">Why do I see UI that says "Can't find your boundary?"</span></span>

<span data-ttu-id="84fd9-157">由于安全边界特定于一个物理位置，因此，如果在不同的位置使用该设备，系统将无法找到该边界。</span><span class="sxs-lookup"><span data-stu-id="84fd9-157">Since the safety boundary is specific to a physical location, if you are using the device in a different location then the system will not be able to find the bounds.</span></span> <span data-ttu-id="84fd9-158">此外，如果您设置了边界，系统将始终查找该边界，即使您在不同的物理位置使用该设备也是如此。</span><span class="sxs-lookup"><span data-stu-id="84fd9-158">Additionally, once you have set up your boundary, the system will always look for it, even if you use the device in a different physical location.</span></span> <span data-ttu-id="84fd9-159">只要在不同的位置使用设备，并且尚未在该位置设置边界，就会看到此 UI。</span><span class="sxs-lookup"><span data-stu-id="84fd9-159">You will see this UI anytime you use the device in a different location and have not set up a boundary in that location yet.</span></span> <span data-ttu-id="84fd9-160">你可以在每个使用设备的位置设置边界，设备将重新调用特定位置的边界。</span><span class="sxs-lookup"><span data-stu-id="84fd9-160">You can set up boundaries in each location you use the device, and the device will recall your location specific bounds.</span></span>

<span data-ttu-id="84fd9-161">如果你使用的是之前设置边界的位置中的设备，但设备仍找不到它，则可以设置新的界限，或清除所有环境数据以从设备中删除所有边界。</span><span class="sxs-lookup"><span data-stu-id="84fd9-161">If you are using the device in a location you have previously set up a boundary, and the device still cannot find it, you may set up a new bounds, or clear all environment data to remove all bounds from the device.</span></span> <span data-ttu-id="84fd9-162">请参阅 [故障排除](tracking.md) 部分，了解系统为何找不到你的边界和更正此问题的步骤。</span><span class="sxs-lookup"><span data-stu-id="84fd9-162">See the [troubleshooting](tracking.md) section to understand why the system cannot find your bounds and steps to correct it.</span></span>

## <a name="how-do-i-set-up-tracking"></a><span data-ttu-id="84fd9-163">如何实现设置跟踪？</span><span class="sxs-lookup"><span data-stu-id="84fd9-163">How do I set up tracking?</span></span>

<span data-ttu-id="84fd9-164">Windows Mixed Reality 中的跟踪非常易于使用。</span><span class="sxs-lookup"><span data-stu-id="84fd9-164">Tracking in Windows Mixed Reality is simple to use.</span></span> <span data-ttu-id="84fd9-165">不需要任何基础结构或设置，设备将开箱即用。</span><span class="sxs-lookup"><span data-stu-id="84fd9-165">There is no infrastructure or setup required and the device will work out of the box.</span></span> <span data-ttu-id="84fd9-166">如果选择了，则可以设置一个虚拟边界以供使用。</span><span class="sxs-lookup"><span data-stu-id="84fd9-166">If you chose to, you may set up a virtual boundary for use.</span></span> <span data-ttu-id="84fd9-167">有关详细信息，请参阅 [设置边界](set-up-windows-mixed-reality.md#set-up-your-room-boundary) 部分。</span><span class="sxs-lookup"><span data-stu-id="84fd9-167">See the section on [setting up your boundary](set-up-windows-mixed-reality.md#set-up-your-room-boundary) for more information.</span></span>

## <a name="how-do-i-clear-tracking-and-environment-data"></a><span data-ttu-id="84fd9-168">如何实现清除跟踪和环境数据？</span><span class="sxs-lookup"><span data-stu-id="84fd9-168">How do I clear tracking and environment data?</span></span>

<span data-ttu-id="84fd9-169">跟踪系统存储某些环境数据，以使其能够回忆到实际的物理位置（如安全界限）。</span><span class="sxs-lookup"><span data-stu-id="84fd9-169">The tracking system stores some environment data so that it can recall the real-world physical location of things like your safety bounds.</span></span> <span data-ttu-id="84fd9-170">此信息（包括安全边界）可随时删除。</span><span class="sxs-lookup"><span data-stu-id="84fd9-170">This information, including your safety bounds, can be removed at any time.</span></span> <span data-ttu-id="84fd9-171">如果删除此信息，系统将无法再识别你的空间或重新调用安全边界。</span><span class="sxs-lookup"><span data-stu-id="84fd9-171">If this information is removed, the system will no longer recognize your space or be able to recall your safety bounds.</span></span> <span data-ttu-id="84fd9-172">如果要在清除环境数据后使用安全边界，则必须重新设置它。</span><span class="sxs-lookup"><span data-stu-id="84fd9-172">If you wish to use safety bounds after clearing the environment data, you will have to set it up again.</span></span> <span data-ttu-id="84fd9-173">若要设置新边界，请参阅 [设置边界](set-up-windows-mixed-reality.md#set-up-your-room-boundary) 部分。</span><span class="sxs-lookup"><span data-stu-id="84fd9-173">See the section on [setting up your boundary](set-up-windows-mixed-reality.md#set-up-your-room-boundary) to set up a new boundary.</span></span> <span data-ttu-id="84fd9-174">若要删除所有这些数据，请打开 "设置"，导航到 "Mixed Reality"，然后选择左侧菜单的 "环境" 部分。</span><span class="sxs-lookup"><span data-stu-id="84fd9-174">To remove all of this data, open Settings, navigate to "Mixed Reality", and select the Environment section of the left hand side menu.</span></span> <span data-ttu-id="84fd9-175">单击标记为 "清除环境数据" 的按钮以删除所有环境和跟踪数据。</span><span class="sxs-lookup"><span data-stu-id="84fd9-175">Click the button labelled "Clear Environment Data" to remove all environment and tracking data.</span></span>

## <a name="see-also"></a><span data-ttu-id="84fd9-176">另请参阅</span><span class="sxs-lookup"><span data-stu-id="84fd9-176">See also</span></span>
* [<span data-ttu-id="84fd9-177">跟踪系统疑难解答</span><span class="sxs-lookup"><span data-stu-id="84fd9-177">Troubleshooting the tracking system</span></span>](tracking.md)
* [<span data-ttu-id="84fd9-178">运动控制器的工作原理</span><span class="sxs-lookup"><span data-stu-id="84fd9-178">How motion controllers work</span></span>](controller-in-wmr.md)
* [<span data-ttu-id="84fd9-179">Windows Mixed Reality 主页</span><span class="sxs-lookup"><span data-stu-id="84fd9-179">Your Windows Mixed Reality home</span></span>](your-mixed-reality-home.md)
* [<span data-ttu-id="84fd9-180">在 Windows Mixed Reality 中使用游戏和应用</span><span class="sxs-lookup"><span data-stu-id="84fd9-180">Using games and apps in Windows Mixed Reality</span></span>](using-games-and-apps-in-windows-mixed-reality.md)
