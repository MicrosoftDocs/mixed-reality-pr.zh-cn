---
title: 坐标系统
description: 空间坐标系统用于构建固定、办公室、房间规模和全球规模的混合现实体验。
author: thetuvix
ms.author: alexturn
ms.date: 02/24/2019
ms.topic: article
keywords: 坐标系统，空间坐标系统，仅限方向，固定规模，大规模，世界规模，360度，固定的，房间，房间，世界，缩放，位置，方向，固定，附加，舞台，定位，空间锚，世界锁定，世界锁定，身体锁定，身体锁定，边界，持久性，共享，跟踪丢失，云空间锚，混合现实耳机，windows mixed reality 耳机，虚拟现实耳机，HoloLens，MRTK，混合现实工具包
ms.openlocfilehash: 6d4bddc17027ad32f82fbc8c37860e64b2bc57eb
ms.sourcegitcommit: d3a3b4f13b3728cfdd4d43035c806c0791d3f2fe
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/20/2021
ms.locfileid: "98582417"
---
# <a name="coordinate-systems"></a><span data-ttu-id="9883a-104">坐标系统</span><span class="sxs-lookup"><span data-stu-id="9883a-104">Coordinate systems</span></span>

<span data-ttu-id="9883a-105">在其核心，混合现实应用在世界上放置 [全息影像](../discover/hologram.md) ，看起来像是真实的对象。</span><span class="sxs-lookup"><span data-stu-id="9883a-105">At their core, mixed reality apps place [holograms](../discover/hologram.md) in your world that look like and sound real objects.</span></span> <span data-ttu-id="9883a-106">这涉及到在世界上有意义的地方精确定位和定位这些全息影像，无论是世界空间还是您创建的虚拟领域。</span><span class="sxs-lookup"><span data-stu-id="9883a-106">This involves precisely positioning and orienting those holograms at meaningful places in the world, whether the world is their physical room or a virtual realm you've created.</span></span> <span data-ttu-id="9883a-107">Windows 提供各种真实的坐标系统用于表示几何，这称为 **空间坐标系统**。</span><span class="sxs-lookup"><span data-stu-id="9883a-107">Windows provides various real-world coordinate systems for expressing geometry, which is known as **spatial coordinate systems**.</span></span> <span data-ttu-id="9883a-108">您可以使用空间坐标系统来考虑全息图的位置、方向、 [注视](gaze-and-commit.md) 的光线或 [手](hands-and-tools.md)中的位置。</span><span class="sxs-lookup"><span data-stu-id="9883a-108">You can use spatial coordinate systems to reason about hologram position, orientation, [gaze](gaze-and-commit.md) ray, or [hand positions](hands-and-tools.md).</span></span>

<br>

<iframe width="940" height="530" src="https://www.youtube.com/embed/TneGSeqVAXQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## <a name="device-support"></a><span data-ttu-id="9883a-109">设备支持</span><span class="sxs-lookup"><span data-stu-id="9883a-109">Device support</span></span>

<table>
    <colgroup>
    <col width="40%" />
    <col width="20%" />
    <col width="20%" />
    <col width="20%" />
    </colgroup>
    <tr>
        <td><span data-ttu-id="9883a-110"><strong>功能</strong></span><span class="sxs-lookup"><span data-stu-id="9883a-110"><strong>Feature</strong></span></span></td>
        <td><span data-ttu-id="9883a-111"><a href="/hololens/hololens1-hardware"><strong>HoloLens（第 1 代）</strong></a></span><span class="sxs-lookup"><span data-stu-id="9883a-111"><a href="/hololens/hololens1-hardware"><strong>HoloLens (1st gen)</strong></a></span></span></td>
        <td><span data-ttu-id="9883a-112"><a href="https://docs.microsoft.com/hololens/hololens2-hardware"><strong>HoloLens 2</strong></span><span class="sxs-lookup"><span data-stu-id="9883a-112"><a href="https://docs.microsoft.com/hololens/hololens2-hardware"><strong>HoloLens 2</strong></span></span></td>
        <td><span data-ttu-id="9883a-113"><a href="/windows/mixed-reality/immersive-headset-hardware-details"><strong>沉浸式头戴显示设备</strong></a></span><span class="sxs-lookup"><span data-stu-id="9883a-113"><a href="/windows/mixed-reality/immersive-headset-hardware-details"><strong>Immersive headsets</strong></a></span></span></td>
    </tr>
     <tr>
        <td><span data-ttu-id="9883a-114"><a href="coordinate-systems.md#stationary-frame-of-reference">固定的引用框架</a></span><span class="sxs-lookup"><span data-stu-id="9883a-114"><a href="coordinate-systems.md#stationary-frame-of-reference">Stationary frame of reference</a></span></span></td>
        <td><span data-ttu-id="9883a-115">✔️</span><span class="sxs-lookup"><span data-stu-id="9883a-115">✔️</span></span></td>
        <td><span data-ttu-id="9883a-116">✔️</span><span class="sxs-lookup"><span data-stu-id="9883a-116">✔️</span></span></td>
        <td><span data-ttu-id="9883a-117">✔️</span><span class="sxs-lookup"><span data-stu-id="9883a-117">✔️</span></span></td>
    </tr>
    <tr>
        <td><span data-ttu-id="9883a-118"><a href="coordinate-systems.md#attached-frame-of-reference">附加引用框架</a></span><span class="sxs-lookup"><span data-stu-id="9883a-118"><a href="coordinate-systems.md#attached-frame-of-reference">Attached frame of reference</a></span></span></td>
        <td><span data-ttu-id="9883a-119">✔️</span><span class="sxs-lookup"><span data-stu-id="9883a-119">✔️</span></span></td>
        <td><span data-ttu-id="9883a-120">✔️</span><span class="sxs-lookup"><span data-stu-id="9883a-120">✔️</span></span></td>
        <td><span data-ttu-id="9883a-121">✔️</span><span class="sxs-lookup"><span data-stu-id="9883a-121">✔️</span></span></td>
    </tr>
    <tr>
        <td><span data-ttu-id="9883a-122"><a href="coordinate-systems.md#stage-frame-of-reference">阶段引用框架</a></span><span class="sxs-lookup"><span data-stu-id="9883a-122"><a href="coordinate-systems.md#stage-frame-of-reference">Stage frame of reference</a></span></span></td>
        <td><span data-ttu-id="9883a-123">尚不支持</span><span class="sxs-lookup"><span data-stu-id="9883a-123">Not supported yet</span></span></td>
        <td><span data-ttu-id="9883a-124">尚不支持</span><span class="sxs-lookup"><span data-stu-id="9883a-124">Not supported yet</span></span></td>
        <td><span data-ttu-id="9883a-125">✔️</span><span class="sxs-lookup"><span data-stu-id="9883a-125">✔️</span></span></td>
    </tr>
    <tr>
        <td><span data-ttu-id="9883a-126"><a href="coordinate-systems.md#spatial-anchors">空间定位点</a></span><span class="sxs-lookup"><span data-stu-id="9883a-126"><a href="coordinate-systems.md#spatial-anchors">Spatial anchors</a></span></span></td>
        <td><span data-ttu-id="9883a-127">✔️</span><span class="sxs-lookup"><span data-stu-id="9883a-127">✔️</span></span></td>
        <td><span data-ttu-id="9883a-128">✔️</span><span class="sxs-lookup"><span data-stu-id="9883a-128">✔️</span></span></td>
        <td><span data-ttu-id="9883a-129">✔️</span><span class="sxs-lookup"><span data-stu-id="9883a-129">✔️</span></span></td>
    </tr>
    <tr>
        <td><span data-ttu-id="9883a-130"><a href="spatial-mapping.md">空间映射</a></span><span class="sxs-lookup"><span data-stu-id="9883a-130"><a href="spatial-mapping.md">Spatial mapping</a></span></span></td>
        <td><span data-ttu-id="9883a-131">✔️</span><span class="sxs-lookup"><span data-stu-id="9883a-131">✔️</span></span></td>
        <td><span data-ttu-id="9883a-132">✔️</span><span class="sxs-lookup"><span data-stu-id="9883a-132">✔️</span></span></td>
        <td>❌</td>
    </tr>
    <tr>
        <td><span data-ttu-id="9883a-133"><a href="scene-understanding.md">场景理解</a></span><span class="sxs-lookup"><span data-stu-id="9883a-133"><a href="scene-understanding.md">Scene understanding</a></span></span></td>
        <td>❌</td>
        <td><span data-ttu-id="9883a-134">✔️</span><span class="sxs-lookup"><span data-stu-id="9883a-134">✔️</span></span></td>
        <td>❌</td>
    </tr>
</table>

## <a name="mixed-reality-experience-scales"></a><span data-ttu-id="9883a-135">混合现实体验规模</span><span class="sxs-lookup"><span data-stu-id="9883a-135">Mixed reality experience scales</span></span>

<span data-ttu-id="9883a-136">你可以为各种用户体验设计混合现实应用，从360度视频观看者，将耳机方向用于使用空间映射和空间锚点的全世界规模应用和游戏：</span><span class="sxs-lookup"><span data-stu-id="9883a-136">You can design Mixed reality apps for a broad range of user experiences, from 360-degree video viewers using headset orientation to full world-scale apps and games using spatial mapping and spatial anchors:</span></span>

<br>

| <span data-ttu-id="9883a-137">体验规模</span><span class="sxs-lookup"><span data-stu-id="9883a-137">Experience scale</span></span> | <span data-ttu-id="9883a-138">要求</span><span class="sxs-lookup"><span data-stu-id="9883a-138">Requirements</span></span> | <span data-ttu-id="9883a-139">示例体验</span><span class="sxs-lookup"><span data-stu-id="9883a-139">Example experience</span></span> | 
|----------|----------|----------|
|  <span data-ttu-id="9883a-140">**仅限方向**</span><span class="sxs-lookup"><span data-stu-id="9883a-140">**Orientation-only**</span></span> |  <span data-ttu-id="9883a-141">**耳机方向** (重心-对齐) </span><span class="sxs-lookup"><span data-stu-id="9883a-141">**Headset orientation** (gravity-aligned)</span></span> |  <span data-ttu-id="9883a-142">360°视频查看器</span><span class="sxs-lookup"><span data-stu-id="9883a-142">360° video viewer</span></span> | 
|  <span data-ttu-id="9883a-143">**固定规模**</span><span class="sxs-lookup"><span data-stu-id="9883a-143">**Seated-scale**</span></span> |  <span data-ttu-id="9883a-144">上方加上 **耳机位置** （基于零位置）</span><span class="sxs-lookup"><span data-stu-id="9883a-144">Above plus **headset position** based on zero position</span></span> |  <span data-ttu-id="9883a-145">赛车游戏或空间模拟器</span><span class="sxs-lookup"><span data-stu-id="9883a-145">Racing game or space simulator</span></span> | 
|  <span data-ttu-id="9883a-146">**大规模**</span><span class="sxs-lookup"><span data-stu-id="9883a-146">**Standing-scale**</span></span> |  <span data-ttu-id="9883a-147">上方和 **阶段楼层原点**</span><span class="sxs-lookup"><span data-stu-id="9883a-147">Above plus **stage floor origin**</span></span> |  <span data-ttu-id="9883a-148">在其中施加并减淡的动作游戏</span><span class="sxs-lookup"><span data-stu-id="9883a-148">Action game where you duck and dodge in place</span></span>  | 
|  <span data-ttu-id="9883a-149">**会议室-规模**</span><span class="sxs-lookup"><span data-stu-id="9883a-149">**Room-scale**</span></span> |  <span data-ttu-id="9883a-150">上方和 **阶段边界多边形**</span><span class="sxs-lookup"><span data-stu-id="9883a-150">Above plus **stage bounds polygon**</span></span> |  <span data-ttu-id="9883a-151">拼图游戏，其中演练了测验题</span><span class="sxs-lookup"><span data-stu-id="9883a-151">Puzzle game where you walk around the puzzle</span></span> | 
|  <span data-ttu-id="9883a-152">**全球规模**</span><span class="sxs-lookup"><span data-stu-id="9883a-152">**World-scale**</span></span> |  <span data-ttu-id="9883a-153">**空间锚** (和通常是 [空间映射](spatial-mapping.md)) </span><span class="sxs-lookup"><span data-stu-id="9883a-153">**Spatial anchors** (and typically [spatial mapping](spatial-mapping.md))</span></span> |  <span data-ttu-id="9883a-154">具有敌人的游戏，如 [RoboRaid](https://www.microsoft.com/p/roboraid/9nblggh5fv3j)</span><span class="sxs-lookup"><span data-stu-id="9883a-154">Game with enemies coming from your real walls, such as [RoboRaid](https://www.microsoft.com/p/roboraid/9nblggh5fv3j)</span></span> | 

<span data-ttu-id="9883a-155">以上扩展的体验遵循 "嵌套娃娃" 模型。</span><span class="sxs-lookup"><span data-stu-id="9883a-155">The experience scales above follow a "nesting dolls" model.</span></span> <span data-ttu-id="9883a-156">Windows Mixed Reality 的关键设计原则是：给定的耳机支持为目标体验规模和所有较低比例构建的应用：</span><span class="sxs-lookup"><span data-stu-id="9883a-156">The key design principle for Windows Mixed Reality is a given headset supports apps built for a target experience scale and all lesser scales:</span></span>

<br>

| <span data-ttu-id="9883a-157">6DOF 跟踪</span><span class="sxs-lookup"><span data-stu-id="9883a-157">6DOF tracking</span></span> | <span data-ttu-id="9883a-158">已定义楼层</span><span class="sxs-lookup"><span data-stu-id="9883a-158">Floor defined</span></span> | <span data-ttu-id="9883a-159">360°跟踪</span><span class="sxs-lookup"><span data-stu-id="9883a-159">360° tracking</span></span> | <span data-ttu-id="9883a-160">定义的边界</span><span class="sxs-lookup"><span data-stu-id="9883a-160">Bounds defined</span></span> | <span data-ttu-id="9883a-161">空间定位点</span><span class="sxs-lookup"><span data-stu-id="9883a-161">Spatial anchors</span></span> | <span data-ttu-id="9883a-162">最大体验</span><span class="sxs-lookup"><span data-stu-id="9883a-162">Max experience</span></span> | 
|----------|----------|----------|----------|----------|----------|
|  <span data-ttu-id="9883a-163">否</span><span class="sxs-lookup"><span data-stu-id="9883a-163">No</span></span> |  - |  - |  - |  - |  <span data-ttu-id="9883a-164">**仅限方向**</span><span class="sxs-lookup"><span data-stu-id="9883a-164">**Orientation-only**</span></span> | 
|  <span data-ttu-id="9883a-165">**是**</span><span class="sxs-lookup"><span data-stu-id="9883a-165">**Yes**</span></span> |  <span data-ttu-id="9883a-166">否</span><span class="sxs-lookup"><span data-stu-id="9883a-166">No</span></span> |  - |  - |  - |  <span data-ttu-id="9883a-167">**固定**</span><span class="sxs-lookup"><span data-stu-id="9883a-167">**Seated**</span></span> | 
|  <span data-ttu-id="9883a-168">**是**</span><span class="sxs-lookup"><span data-stu-id="9883a-168">**Yes**</span></span> |  <span data-ttu-id="9883a-169">**是**</span><span class="sxs-lookup"><span data-stu-id="9883a-169">**Yes**</span></span> |  <span data-ttu-id="9883a-170">否</span><span class="sxs-lookup"><span data-stu-id="9883a-170">No</span></span> |  - |  - |  <span data-ttu-id="9883a-171">**继续**</span><span class="sxs-lookup"><span data-stu-id="9883a-171">**Standing - Forward**</span></span> | 
|  <span data-ttu-id="9883a-172">**是**</span><span class="sxs-lookup"><span data-stu-id="9883a-172">**Yes**</span></span> |  <span data-ttu-id="9883a-173">**是**</span><span class="sxs-lookup"><span data-stu-id="9883a-173">**Yes**</span></span> |  <span data-ttu-id="9883a-174">**是**</span><span class="sxs-lookup"><span data-stu-id="9883a-174">**Yes**</span></span> |  <span data-ttu-id="9883a-175">否</span><span class="sxs-lookup"><span data-stu-id="9883a-175">No</span></span> |  - |  <span data-ttu-id="9883a-176">**360°**</span><span class="sxs-lookup"><span data-stu-id="9883a-176">**Standing - 360°**</span></span> | 
|  <span data-ttu-id="9883a-177">**是**</span><span class="sxs-lookup"><span data-stu-id="9883a-177">**Yes**</span></span> |  <span data-ttu-id="9883a-178">**是**</span><span class="sxs-lookup"><span data-stu-id="9883a-178">**Yes**</span></span> |  <span data-ttu-id="9883a-179">**是**</span><span class="sxs-lookup"><span data-stu-id="9883a-179">**Yes**</span></span> |  <span data-ttu-id="9883a-180">**是**</span><span class="sxs-lookup"><span data-stu-id="9883a-180">**Yes**</span></span> |  <span data-ttu-id="9883a-181">否</span><span class="sxs-lookup"><span data-stu-id="9883a-181">No</span></span> |  <span data-ttu-id="9883a-182">**会议室**</span><span class="sxs-lookup"><span data-stu-id="9883a-182">**Room**</span></span> | 
|  <span data-ttu-id="9883a-183">**是**</span><span class="sxs-lookup"><span data-stu-id="9883a-183">**Yes**</span></span> |  <span data-ttu-id="9883a-184">**是**</span><span class="sxs-lookup"><span data-stu-id="9883a-184">**Yes**</span></span> |  <span data-ttu-id="9883a-185">**是**</span><span class="sxs-lookup"><span data-stu-id="9883a-185">**Yes**</span></span> |  <span data-ttu-id="9883a-186">**是**</span><span class="sxs-lookup"><span data-stu-id="9883a-186">**Yes**</span></span> |  <span data-ttu-id="9883a-187">**是**</span><span class="sxs-lookup"><span data-stu-id="9883a-187">**Yes**</span></span> |  <span data-ttu-id="9883a-188">**World**</span><span class="sxs-lookup"><span data-stu-id="9883a-188">**World**</span></span> | 

<span data-ttu-id="9883a-189">HoloLens 尚不支持引用的阶段框架。</span><span class="sxs-lookup"><span data-stu-id="9883a-189">The Stage frame of reference isn't yet supported on HoloLens.</span></span> <span data-ttu-id="9883a-190">在 HoloLens 上，会议室规模的应用目前需要使用 [空间映射](spatial-mapping.md) 或 [场景了解](scene-understanding.md) 来查找用户的地面和墙。</span><span class="sxs-lookup"><span data-stu-id="9883a-190">A room-scale app on HoloLens currently needs to use [spatial mapping](spatial-mapping.md) or [scene understanding](scene-understanding.md) to find the user's floor and walls.</span></span>

## <a name="spatial-coordinate-systems"></a><span data-ttu-id="9883a-191">空间坐标系统</span><span class="sxs-lookup"><span data-stu-id="9883a-191">Spatial coordinate systems</span></span>

<span data-ttu-id="9883a-192">所有3D 图形应用程序都使用 [笛卡尔坐标系统](/windows/uwp/graphics-concepts/coordinate-systems) 来表示虚拟对象的位置和方向。</span><span class="sxs-lookup"><span data-stu-id="9883a-192">All 3D graphics applications use [Cartesian coordinate systems](/windows/uwp/graphics-concepts/coordinate-systems) to reason about the positions and orientations of virtual objects.</span></span> <span data-ttu-id="9883a-193">这些坐标系统建立了3个垂直轴，沿该轴放置对象： X 轴、Y 轴和 Z 轴。</span><span class="sxs-lookup"><span data-stu-id="9883a-193">These coordinate systems establish 3 perpendicular axes along which to position objects: an X, Y, and Z axis.</span></span>

<span data-ttu-id="9883a-194">在 [混合现实](../discover/mixed-reality.md)中，应用对虚拟和物理坐标系的原因。</span><span class="sxs-lookup"><span data-stu-id="9883a-194">In [mixed reality](../discover/mixed-reality.md), your apps reason about virtual and physical coordinate systems.</span></span> <span data-ttu-id="9883a-195">Windows 调用在物理环境中具有实际意义的坐标系统，即 **空间坐标系统**。</span><span class="sxs-lookup"><span data-stu-id="9883a-195">Windows calls a coordinate system that has real meaning in the physical world a **spatial coordinate system**.</span></span>

<span data-ttu-id="9883a-196">空间坐标系统以米为单位表示坐标值。</span><span class="sxs-lookup"><span data-stu-id="9883a-196">Spatial coordinate systems express their coordinate values in meters.</span></span> <span data-ttu-id="9883a-197">这意味着，当对象在混合现实中呈现时，X、Y 或 Z 轴上相隔两个单位的每个单元彼此之间将显示2米。</span><span class="sxs-lookup"><span data-stu-id="9883a-197">This means that objects placed two units apart in either the X, Y, or Z axis will appear 2 meters apart from one another when rendered in mixed reality.</span></span> <span data-ttu-id="9883a-198">知道这一点，您可以轻松地在真实规模上呈现对象和环境。</span><span class="sxs-lookup"><span data-stu-id="9883a-198">Knowing this, you can easily render objects and environments at real-world scale.</span></span>

<span data-ttu-id="9883a-199">通常，笛卡尔坐标系统可以是右手或左手。</span><span class="sxs-lookup"><span data-stu-id="9883a-199">In general, Cartesian coordinate systems can be either right-handed or left-handed.</span></span> <span data-ttu-id="9883a-200">Windows 上的空间坐标系统始终是右手的，这意味着正 X 轴向右，Y 轴上点向上 (对齐到重力) 并且正 Z 轴指向你。</span><span class="sxs-lookup"><span data-stu-id="9883a-200">Spatial coordinate systems on Windows are always right-handed, which means that the positive X-axis points right, the positive Y-axis points up (aligned to gravity) and the positive Z-axis points towards you.</span></span>

<span data-ttu-id="9883a-201">在这两种坐标系统中，正 X 轴向右，Y 轴向上点向右。</span><span class="sxs-lookup"><span data-stu-id="9883a-201">In both kinds of coordinate systems, the positive X-axis points to the right and the positive Y-axis points up.</span></span> <span data-ttu-id="9883a-202">不同之处在于 Z 轴正向你或向外的方向。</span><span class="sxs-lookup"><span data-stu-id="9883a-202">The difference is whether the positive Z-axis points towards or away from you.</span></span> <span data-ttu-id="9883a-203">请记住正 Z 轴指向的方向，方法是将左或右指向左或向右箭头，然后将其运行到 Y Y 方向。</span><span class="sxs-lookup"><span data-stu-id="9883a-203">Remember which direction the positive Z-axis points by pointing the fingers of either your left or right hand in the positive X direction and curling them to the positive Y direction.</span></span> <span data-ttu-id="9883a-204">你的拇指点向下或远离你的方向是该坐标系统的正 Z 轴指向的方向。</span><span class="sxs-lookup"><span data-stu-id="9883a-204">The direction your thumb points, either toward or away from you, is the direction that the positive Z-axis points for that coordinate system.</span></span>

## <a name="building-an-orientation-only-or-seated-scale-experience"></a><span data-ttu-id="9883a-205">构建仅限方向或固定规模的体验</span><span class="sxs-lookup"><span data-stu-id="9883a-205">Building an orientation-only or seated-scale experience</span></span>

<span data-ttu-id="9883a-206">全息 [呈现](../develop/platform-capabilities-and-apis/rendering.md) 的关键是在用户四处移动时更改应用程序的全息影像的视图，以匹配其预测的头运动。</span><span class="sxs-lookup"><span data-stu-id="9883a-206">The key to holographic [rendering](../develop/platform-capabilities-and-apis/rendering.md) is changing your app's view of its holograms each frame as the user moves around, to match their predicted head motion.</span></span> <span data-ttu-id="9883a-207">您可以使用 **固定的参考框架**，构建与用户头位置和打印头方向发生变化的 **固定规模体验**。</span><span class="sxs-lookup"><span data-stu-id="9883a-207">You can build **seated-scale experiences** that respect changes to the user's head position and head orientation using a **stationary frame of reference**.</span></span>

<span data-ttu-id="9883a-208">某些内容必须忽略头位置更新，始终固定在选定的标题上，并始终固定到用户的距离。</span><span class="sxs-lookup"><span data-stu-id="9883a-208">Some content must ignore head position updates, staying fixed at a chosen heading and distance from the user always.</span></span> <span data-ttu-id="9883a-209">主要示例是360度的视频：由于视频是从单个固定透视中捕获的，因此它会破坏视图位置的错觉，使其根据内容进行移动，即使视图方向随着用户的视觉方向发生变化。</span><span class="sxs-lookup"><span data-stu-id="9883a-209">The primary example is 360-degree video: because the video is captured from a single fixed perspective, it would ruin the illusion for the view position to move based on the content, even though the view orientation changes as the user looks around.</span></span> <span data-ttu-id="9883a-210">您可以使用 **附加的参考框架** 构建这种 **仅限方向的体验**。</span><span class="sxs-lookup"><span data-stu-id="9883a-210">You can build such **orientation-only experiences** using an **attached frame of reference**.</span></span>

### <a name="stationary-frame-of-reference"></a><span data-ttu-id="9883a-211">固定的引用框架</span><span class="sxs-lookup"><span data-stu-id="9883a-211">Stationary frame of reference</span></span>

<span data-ttu-id="9883a-212">固定框架提供的坐标系统的工作原理是使对象附近的对象位置尽可能稳定，同时遵从用户头位置中的更改。</span><span class="sxs-lookup"><span data-stu-id="9883a-212">The coordinate system provided by a stationary frame of reference works to keep the positions of objects near the user as stable as possible based on the world, while respecting changes in the user's head position.</span></span>

<span data-ttu-id="9883a-213">对于在游戏引擎（如 [Unity](https://unity3d.com/)）中大规模体验，固定框架是指定义引擎的 "世界原点"。</span><span class="sxs-lookup"><span data-stu-id="9883a-213">For seated-scale experiences in a game engine such as [Unity](https://unity3d.com/), a stationary frame of reference is what defines the engine's "world origin."</span></span> <span data-ttu-id="9883a-214">位于特定世界坐标位置的对象使用固定的引用框架来定义它们在实际中使用相同坐标的位置。</span><span class="sxs-lookup"><span data-stu-id="9883a-214">Objects that are placed at a specific world coordinate use the stationary frame of reference to define their position in the real-world using those same coordinates.</span></span> <span data-ttu-id="9883a-215">即使是在用户浏览时保留在世界各地的内容也称为 **全球锁定** 的内容。</span><span class="sxs-lookup"><span data-stu-id="9883a-215">Content that stays put in the world, even as the user walks around, is known as **world-locked** content.</span></span>

<span data-ttu-id="9883a-216">通常，应用程序会在启动时创建一个固定的固定框架，并在应用程序的整个生存期内使用其坐标系统。</span><span class="sxs-lookup"><span data-stu-id="9883a-216">An app will typically create one stationary frame of reference on startup and use its coordinate system throughout the app's lifetime.</span></span> <span data-ttu-id="9883a-217">作为 Unity 中的应用开发人员，你只需根据源开始放置内容，这将是用户的初始头位置和方向。</span><span class="sxs-lookup"><span data-stu-id="9883a-217">As an app developer in Unity, you can just start placing content based on the origin, which will be at the user's initial head position and orientation.</span></span> <span data-ttu-id="9883a-218">如果用户移到了一个新位置并想要继续进行其大规模体验，则可以在该位置 recenter 世界原点。</span><span class="sxs-lookup"><span data-stu-id="9883a-218">If the user moves to a new place and wants to continue their seated-scale experience, you can recenter the world origin at that location.</span></span>

<span data-ttu-id="9883a-219">随着时间的推移，随着系统更详细地了解用户的环境，它可能会确定现实世界不同点之间的距离是否比以前认为的系统更短或更长。</span><span class="sxs-lookup"><span data-stu-id="9883a-219">Over time, as the system learns more about the user's environment, it may determine that distances between various points in the real-world are shorter or longer than the system previously believed.</span></span> <span data-ttu-id="9883a-220">如果在应用程序上的应用程序的固定框架中呈现全息影像，而用户在游离的范围内超过5米，则您的应用程序可能会观察到这些全息影像的观察位置。</span><span class="sxs-lookup"><span data-stu-id="9883a-220">If you render holograms in a stationary frame of reference for an app on HoloLens where users wander beyond an area about 5 meters wide, your app may observe drift in the observed location of those holograms.</span></span> <span data-ttu-id="9883a-221">如果你的体验的用户 wandering 超过5米，则会生成 [全球规模的体验](#building-a-world-scale-experience)，这将需要其他技术来保持全息影像的稳定性，如下所述。</span><span class="sxs-lookup"><span data-stu-id="9883a-221">If your experience has users wandering beyond 5 meters, you're building a [world-scale experience](#building-a-world-scale-experience), which will require other techniques to keep holograms stable, as described below.</span></span>

### <a name="attached-frame-of-reference"></a><span data-ttu-id="9883a-222">附加引用框架</span><span class="sxs-lookup"><span data-stu-id="9883a-222">Attached frame of reference</span></span>

<span data-ttu-id="9883a-223">当应用程序首次创建框架时，附加的引用框架将随用户一起四处移动。</span><span class="sxs-lookup"><span data-stu-id="9883a-223">An attached frame of reference moves with the user as they walk around, with a fixed heading defined when the app first creates the frame.</span></span> <span data-ttu-id="9883a-224">这样，用户就可以轻松地浏览位于该引用框架中的内容。</span><span class="sxs-lookup"><span data-stu-id="9883a-224">This lets the user comfortably look around at content placed within that frame of reference.</span></span> <span data-ttu-id="9883a-225">以该用户相关的方式呈现的内容称为 **正文锁定** 内容。</span><span class="sxs-lookup"><span data-stu-id="9883a-225">Content rendered in this user-relative way is called **body-locked** content.</span></span>

<span data-ttu-id="9883a-226">当耳机无法确定其在世界各地的位置时，附加的参考框架将提供唯一的坐标系统，可用于渲染全息影像。</span><span class="sxs-lookup"><span data-stu-id="9883a-226">When the headset can't figure out where it is in the world, an attached frame of reference provides the only coordinate system, which can be used to render holograms.</span></span> <span data-ttu-id="9883a-227">这使得它非常适合用于显示回退 UI，告诉用户其设备无法在世界中找到它们。</span><span class="sxs-lookup"><span data-stu-id="9883a-227">This makes it ideal for displaying fallback UI to tell the user that their device can't find them in the world.</span></span> <span data-ttu-id="9883a-228">已固定或更高的应用程序应包括仅限方向的回退，以帮助用户再次工作，UI 与 [混合现实主页](../discover/navigating-the-windows-mixed-reality-home.md)中显示的 UI 类似。</span><span class="sxs-lookup"><span data-stu-id="9883a-228">Apps that are seated-scale or higher should include an orientation-only fallback to help the user get going again, with UI similar to that shown in the [Mixed Reality home](../discover/navigating-the-windows-mixed-reality-home.md).</span></span>

## <a name="building-a-standing-scale-or-room-scale-experience"></a><span data-ttu-id="9883a-229">构建大规模或会议室规模的体验</span><span class="sxs-lookup"><span data-stu-id="9883a-229">Building a standing-scale or room-scale experience</span></span>

<span data-ttu-id="9883a-230">若要超越沉浸式耳机，并构建 **大规模体验**，可以使用 **参考阶段框架**。</span><span class="sxs-lookup"><span data-stu-id="9883a-230">To go beyond seated-scale on an immersive headset and build a **standing-scale experience**, you can use the **stage frame of reference**.</span></span>

<span data-ttu-id="9883a-231">为了提供 **房间规模的体验**，让用户在预先定义的5米边界内浏览，你还可以检查 **阶段边界** 。</span><span class="sxs-lookup"><span data-stu-id="9883a-231">To provide a **room-scale experience**, letting users walk around within the 5-meter boundary they pre-defined, you can check for **stage bounds** as well.</span></span>

### <a name="stage-frame-of-reference"></a><span data-ttu-id="9883a-232">阶段引用框架</span><span class="sxs-lookup"><span data-stu-id="9883a-232">Stage frame of reference</span></span>

<span data-ttu-id="9883a-233">第一次设置沉浸式耳机时，用户定义一个 **阶段**，该阶段表示他们将遇到混合现实的场所。</span><span class="sxs-lookup"><span data-stu-id="9883a-233">When first setting up an immersive headset, the user defines a **stage**, which represents the room in which they'll experience mixed reality.</span></span> <span data-ttu-id="9883a-234">舞台最小程度地定义了一个 **舞台原点**、一个空间坐标系统，该系统位于用户所选楼层位置，并在其打算使用设备的位置前进方向。</span><span class="sxs-lookup"><span data-stu-id="9883a-234">The stage minimally defines a **stage origin**, a spatial coordinate system centered at the user's chosen floor position and forward orientation where they intend to use the device.</span></span> <span data-ttu-id="9883a-235">通过将内容放在 Y = 0 地面平面上的 "舞台坐标系统" 中，可以确保在用户发生时，您的全息影像非常熟悉，为用户提供 **大规模的体验**。</span><span class="sxs-lookup"><span data-stu-id="9883a-235">By placing content in this stage coordinate system at the Y=0 floor plane, you can ensure your holograms appear comfortably on the floor when the user is standing, providing users with a **standing-scale experience**.</span></span>

### <a name="stage-bounds"></a><span data-ttu-id="9883a-236">阶段边界</span><span class="sxs-lookup"><span data-stu-id="9883a-236">Stage bounds</span></span>

<span data-ttu-id="9883a-237">用户还可以选择定义 **暂存边界**，这是一个区域内的区域，在这种情况下，可以在混合现实中四处移动。</span><span class="sxs-lookup"><span data-stu-id="9883a-237">The user may also optionally define **stage bounds**, an area within the room that they've cleared out to move around in mixed reality.</span></span> <span data-ttu-id="9883a-238">如果是这样，则该应用程序可以使用这些界限来构建 **会议室规模的体验**，以确保在用户可以访问的位置始终放置全息影像。</span><span class="sxs-lookup"><span data-stu-id="9883a-238">If so, the app can build a **room-scale experience**, using these bounds to ensure that holograms are always placed where the user can reach them.</span></span>

<span data-ttu-id="9883a-239">由于参考的阶段框架提供了一个固定坐标系统，在该系统中放置了楼层相关的内容，因此，它是移植为虚拟现实耳机开发的大规模和房间规模应用程序的最简单途径。</span><span class="sxs-lookup"><span data-stu-id="9883a-239">Because the stage frame of reference provides a single fixed coordinate system within which to place floor-relative content, it's the easiest path for porting standing-scale and room-scale applications developed for virtual reality headsets.</span></span> <span data-ttu-id="9883a-240">但是，与这些 VR 平台一样，单个坐标系统只能在大约5米 (16 英尺) 直径的情况下使内容稳定，而在系统调整的情况下，在拉杆上，从中心到远处的内容很大程度上导致内容变得非常明显。</span><span class="sxs-lookup"><span data-stu-id="9883a-240">However, as with those VR platforms, a single coordinate system can only stabilize content in about a 5 meters (16 foot) diameter, before lever-arm effects cause content far from the center to shift noticeably as the system adjusts.</span></span> <span data-ttu-id="9883a-241">若要超过5米，则需要空间锚。</span><span class="sxs-lookup"><span data-stu-id="9883a-241">To go beyond 5 meters, spatial anchors are needed.</span></span>

## <a name="building-a-world-scale-experience"></a><span data-ttu-id="9883a-242">构建全球范围的体验</span><span class="sxs-lookup"><span data-stu-id="9883a-242">Building a world-scale experience</span></span>

<span data-ttu-id="9883a-243">HoloLens 允许用户游离5米以上的真正 **世界规模体验** 。</span><span class="sxs-lookup"><span data-stu-id="9883a-243">HoloLens allows for true **world-scale experiences** that let users wander beyond 5 meters.</span></span> <span data-ttu-id="9883a-244">若要构建全球规模的应用程序，你将需要超出用于会议室规模体验的新技术。</span><span class="sxs-lookup"><span data-stu-id="9883a-244">To build a world-scale app, you'll need new techniques beyond those used for room-scale experiences.</span></span>

### <a name="why-a-single-rigid-coordinate-system-cannot-be-used-beyond-5-meters"></a><span data-ttu-id="9883a-245">为什么不能在5米以上使用单个刚性坐标系统</span><span class="sxs-lookup"><span data-stu-id="9883a-245">Why a single rigid coordinate system cannot be used beyond 5 meters</span></span>

<span data-ttu-id="9883a-246">目前，编写游戏、数据可视化应用程序或虚拟现实应用时，典型的方法是建立一个绝对世界坐标系统，所有其他坐标都可以可靠地映射回。</span><span class="sxs-lookup"><span data-stu-id="9883a-246">Today, when writing games, data visualization apps, or virtual reality apps, the typical approach is to establish one absolute world coordinate system that all other coordinates can reliably map back to.</span></span> <span data-ttu-id="9883a-247">在该环境中，始终可以找到一个稳定的转换，用于定义该世界中任意两个对象之间的关系。</span><span class="sxs-lookup"><span data-stu-id="9883a-247">In that environment, you can always find a stable transform that defines a relationship between any two objects in that world.</span></span> <span data-ttu-id="9883a-248">如果未移动这些对象，则其相对转换始终保持不变。</span><span class="sxs-lookup"><span data-stu-id="9883a-248">If you didn't move those objects, their relative transforms would always remain the same.</span></span> <span data-ttu-id="9883a-249">当渲染纯粹的虚拟世界时，这种全局坐标系统可以正常工作。</span><span class="sxs-lookup"><span data-stu-id="9883a-249">This kind of global coordinate system works well when rendering a purely virtual world where you know all of the geometry in advance.</span></span> <span data-ttu-id="9883a-250">如今，房间内的 VR 应用通常建立此类绝对房间级坐标系统，并将其原点置于地面上。</span><span class="sxs-lookup"><span data-stu-id="9883a-250">Room-scale VR apps today typically establish this kind of absolute room-scale coordinate system with its origin on the floor.</span></span>

<span data-ttu-id="9883a-251">与此相反，untethered mixed reality 设备（如 HoloLens）对世界有动态的传感器驱动理解，随着用户的周围时间的推移而不断调整其知识，因为他们在一座建筑的整个楼层走出了很多时间。</span><span class="sxs-lookup"><span data-stu-id="9883a-251">In contrast, an untethered mixed reality device such as HoloLens has a dynamic sensor-driven understanding of the world, continuously adjusting its knowledge over time of the user's surroundings as they walk many meters across an entire floor of a building.</span></span> <span data-ttu-id="9883a-252">在全球范围内，如果你将所有全息影像置于单个硬坐标系中，则这些全息影像一定会随着时间的推移而发生变化。</span><span class="sxs-lookup"><span data-stu-id="9883a-252">In a world-scale experience, if you placed all your holograms in a single rigid coordinate system, those holograms would necessarily drift over time, either based on the world or to each other.</span></span>

<span data-ttu-id="9883a-253">例如，耳机当前可能相信世界上的两个位置相隔4米，然后在以后优化此理解，了解位置实际上是3.9 米。</span><span class="sxs-lookup"><span data-stu-id="9883a-253">For example, the headset may currently believe two locations in the world to be 4 meters apart, and then later refine that understanding, learning that the locations are in fact 3.9 meters apart.</span></span> <span data-ttu-id="9883a-254">如果这些全息影像最初在一个硬坐标系中相隔4米，则其中一个将始终从真实世界向下显示0.1 米。</span><span class="sxs-lookup"><span data-stu-id="9883a-254">If those holograms had initially been placed 4 meters apart in a single rigid coordinate system, one of them would then always appear 0.1 meters off from the real world.</span></span>

### <a name="spatial-anchors"></a><span data-ttu-id="9883a-255">空间定位点</span><span class="sxs-lookup"><span data-stu-id="9883a-255">Spatial anchors</span></span>

<span data-ttu-id="9883a-256">Windows Mixed Reality 通过使你能够创建 [空间锚](spatial-anchors.md) 点来标记用户已放置全息影像的重要点，可以解决上一部分中所述的问题。</span><span class="sxs-lookup"><span data-stu-id="9883a-256">Windows Mixed Reality solves the issue described in the previous section by letting you create [spatial anchors](spatial-anchors.md) to mark important points in the world where the user has placed holograms.</span></span> <span data-ttu-id="9883a-257">空间定位点表示系统应随时间跟踪的世界上的重要点。</span><span class="sxs-lookup"><span data-stu-id="9883a-257">A spatial anchor represents an important point in the world that the system should keep track of over time.</span></span>

<span data-ttu-id="9883a-258">当设备了解到世界时，这些空间定位点可以根据需要调整其位置，以确保每个定位点在其放置在实际位置的位置上保持不变。</span><span class="sxs-lookup"><span data-stu-id="9883a-258">As the device learns about the world, these spatial anchors can adjust their position based on one another as needed to ensure each anchor stays precisely where it was placed based on the real-world.</span></span> <span data-ttu-id="9883a-259">通过在用户放置全息影像的位置放置一个空间锚，然后基于其空间锚点定位该全息图，可以确保全息影像保持最佳的稳定性，即使用户在数米内漫游也是如此。</span><span class="sxs-lookup"><span data-stu-id="9883a-259">By placing a spatial anchor at the location where the user places a hologram and then positioning that hologram based on its spatial anchor, you can ensure the hologram maintains optimal stability, even as the user roams across tens of meters.</span></span>

<span data-ttu-id="9883a-260">这种基于空间锚点的连续调整是指坐标系统与空间锚点之间的主要区别，以及固定的参考框架：</span><span class="sxs-lookup"><span data-stu-id="9883a-260">This continuous adjustment of spatial anchors based on one another is the key difference between coordinate systems from spatial anchors and stationary frames of reference:</span></span>

* <span data-ttu-id="9883a-261">放置在 "固定" 引用框架中的全息影像会彼此保持相互严格的关系。</span><span class="sxs-lookup"><span data-stu-id="9883a-261">Holograms placed in the stationary frame of reference all keep a rigid relationship to one another.</span></span> <span data-ttu-id="9883a-262">但是，当用户进行长距离工作时，该帧的坐标系统可能会根据世界的偏差，以确保用户旁边的全息影像显得稳定。</span><span class="sxs-lookup"><span data-stu-id="9883a-262">However, as the user walks long distances, that frame's coordinate system may drift based on the world to ensure that holograms next to the user appear stable.</span></span>

* <span data-ttu-id="9883a-263">放置在参考的舞台帧中的全息影像还会保持彼此之间的严格关系。</span><span class="sxs-lookup"><span data-stu-id="9883a-263">Holograms placed in the stage frame of reference also keep a rigid relationship to one another.</span></span> <span data-ttu-id="9883a-264">与固定框架不同，阶段框架始终根据其定义的物理原点固定在原位。</span><span class="sxs-lookup"><span data-stu-id="9883a-264">In contrast to the stationary frame, the stage frame always remains fixed in place based on its defined physical origin.</span></span> <span data-ttu-id="9883a-265">但是，当舞台坐标系统中呈现的内容超出其5计量边界时，它将仅在用户处于该边界内时才显示为稳定。</span><span class="sxs-lookup"><span data-stu-id="9883a-265">However, content rendered in the stage's coordinate system beyond its 5-meter boundary will only appear stable while the user is standing within that boundary.</span></span>

* <span data-ttu-id="9883a-266">使用一个空间锚点放置的全息影像可能会基于使用另一个空间锚点放置的全息影像。</span><span class="sxs-lookup"><span data-stu-id="9883a-266">Holograms placed using one spatial anchor may drift based on holograms placed using another spatial anchor.</span></span> <span data-ttu-id="9883a-267">这使 Windows 能够提高其对每个空间锚点的位置的理解，即使在这种情况下，一个定位点需要自行调整，另一个定位点需要进行调整。</span><span class="sxs-lookup"><span data-stu-id="9883a-267">This allows Windows to improve its understanding of the position of each spatial anchor, even if, for example, one anchor needs to adjust itself left and another anchor needs to adjust right.</span></span>

<span data-ttu-id="9883a-268">与固定框架（始终优化用户附近的稳定性）相比，引用和空间锚的阶段框架可确保其起源附近的稳定性。</span><span class="sxs-lookup"><span data-stu-id="9883a-268">In contrast to a stationary frame of reference, which always optimizes for stability near the user, the stage frame of reference and spatial anchors ensure stability near their origins.</span></span> <span data-ttu-id="9883a-269">这有助于在一段时间内使这些全息影像保持准确的位置，但这也意味着，从离坐标系统源太远的位置渲染离线会遇到越来越严重的杠杆的影响。</span><span class="sxs-lookup"><span data-stu-id="9883a-269">This helps those holograms stay precisely in place over time, but it also means that holograms rendered too far away from their coordinate system's origin will experience increasingly severe lever-arm effects.</span></span> <span data-ttu-id="9883a-270">这是因为，舞台或锚点的位置和方向的小调整会按与该锚点的距离成比例放大。</span><span class="sxs-lookup"><span data-stu-id="9883a-270">This is because small adjustments to the position and orientation of the stage or anchor are magnified proportional to the distance from that anchor.</span></span> 

<span data-ttu-id="9883a-271">合理的经验法则是确保基于远处空间锚定系统呈现的所有内容都在其原点约3米以内。</span><span class="sxs-lookup"><span data-stu-id="9883a-271">A good rule of thumb is to ensure that anything you render based on a distant spatial anchor's coordinate system is within about 3 meters of its origin.</span></span> <span data-ttu-id="9883a-272">对于附近的阶段，呈现远距离内容是很好的，因为任何增加的位置错误都将只影响不会在用户的视图中产生很多变化的小全息影像。</span><span class="sxs-lookup"><span data-stu-id="9883a-272">For a nearby stage origin, rendering distant content is OK, as any increased positional error will affect only small holograms that won't shift much in the user's view.</span></span>

### <a name="spatial-anchor-persistence"></a><span data-ttu-id="9883a-273">空间锚点持久性</span><span class="sxs-lookup"><span data-stu-id="9883a-273">Spatial anchor persistence</span></span>

<span data-ttu-id="9883a-274">空间锚还可以让你的应用程序记住重要的位置，即使在应用程序挂起或设备关闭后也是如此。</span><span class="sxs-lookup"><span data-stu-id="9883a-274">Spatial anchors can also allow your app to remember an important location even after your app suspends or the device is shut down.</span></span>

<span data-ttu-id="9883a-275">你可以将应用创建的空间锚点保存到磁盘，以后再通过将其保存到应用的 **空间锚存储** 来重新加载它们。</span><span class="sxs-lookup"><span data-stu-id="9883a-275">You can save to disk the spatial anchors your app creates, and then load them back again later, by persisting them to your app's **spatial anchor store**.</span></span> <span data-ttu-id="9883a-276">保存或加载定位点时，需要提供对应用有意义的字符串键，以便以后标识定位点。</span><span class="sxs-lookup"><span data-stu-id="9883a-276">When saving or loading an anchor, you provide a string key that is meaningful to your app, to identify the anchor later.</span></span> <span data-ttu-id="9883a-277">请将此密钥视为定位点的文件名。</span><span class="sxs-lookup"><span data-stu-id="9883a-277">Think of this key as the filename for your anchor.</span></span> <span data-ttu-id="9883a-278">如果要将其他数据与该锚点相关联（例如用户放置在该位置的3D 模型），请将其保存到应用的本地存储，并将其与所选的密钥相关联。</span><span class="sxs-lookup"><span data-stu-id="9883a-278">If you want to associate other data with that anchor, such as a 3D model that the user placed at that location, save that to your app's local storage and associate it with the key you chose.</span></span>

<span data-ttu-id="9883a-279">通过将定位点保存到应用商店，你的用户可以放置单独的全息影像，或放置一个工作区，应用将在该工作区中放置其各种全息影像，然后在其预期的位置找到这些全息影像，这超出了应用的多种用途。</span><span class="sxs-lookup"><span data-stu-id="9883a-279">By persisting anchors to the store, your users can place individual holograms or place a workspace around which an app will place its various holograms, and then find those holograms later where they expect them, over many uses of your app.</span></span>

<span data-ttu-id="9883a-280">你还可以将 <a href="/azure/spatial-anchors/overview" target="_blank">Azure 空间锚点</a> 用于每个 HoloLens、IOS 和 Android 设备上的异步全息影像。</span><span class="sxs-lookup"><span data-stu-id="9883a-280">You can also use <a href="/azure/spatial-anchors/overview" target="_blank">Azure Spatial Anchors</a> for asynchronous hologram persistence across HoloLens, iOS, and Android devices.</span></span>  <span data-ttu-id="9883a-281">通过共享持久云空间锚点，多个设备可以在一段时间内观察到相同的持久全息图，即使这些设备同时不存在。</span><span class="sxs-lookup"><span data-stu-id="9883a-281">By sharing a durable cloud spatial anchor, multiple devices can observe the same persisted hologram over time, even if those devices aren't present together at the same time.</span></span>

### <a name="spatial-anchor-sharing"></a><span data-ttu-id="9883a-282">空间锚点共享</span><span class="sxs-lookup"><span data-stu-id="9883a-282">Spatial anchor sharing</span></span>

<span data-ttu-id="9883a-283">您的应用程序也可以与其他设备实时共享空间锚，从而实现实时共享体验。</span><span class="sxs-lookup"><span data-stu-id="9883a-283">Your app can also share a spatial anchor in real time with other devices, allowing for real-time shared experiences.</span></span>

<span data-ttu-id="9883a-284">使用 <a href="/azure/spatial-anchors/overview" target="_blank">Azure 空间锚点</a>，你的应用可以跨多个 HoloLens、IOS 和 Android 设备共享空间锚。</span><span class="sxs-lookup"><span data-stu-id="9883a-284">By using <a href="/azure/spatial-anchors/overview" target="_blank">Azure Spatial Anchors</a>, your app can share a spatial anchor across multiple HoloLens, iOS, and Android devices.</span></span> <span data-ttu-id="9883a-285">通过使每个设备使用相同的空间定位点呈现全息影像，所有用户将看到全息影像显示在现实世界中的相同位置。</span><span class="sxs-lookup"><span data-stu-id="9883a-285">By having each device render a hologram using the same spatial anchor, all users will see the hologram appear at the same place in the real world.</span></span>

## <a name="avoid-head-locked-content"></a><span data-ttu-id="9883a-286">避免 head 锁定的内容</span><span class="sxs-lookup"><span data-stu-id="9883a-286">Avoid head-locked content</span></span>

<span data-ttu-id="9883a-287">我们强烈建议您不要渲染 head 锁定的内容，这会停留在显示 (如 HUD) 中的固定位置。</span><span class="sxs-lookup"><span data-stu-id="9883a-287">We strongly discourage rendering head-locked content, which stays at a fixed spot in the display (such as a HUD).</span></span> <span data-ttu-id="9883a-288">通常情况下，对用户而言，打印头锁定的内容不舒服，这并不像世界各地。</span><span class="sxs-lookup"><span data-stu-id="9883a-288">In general, head-locked content is uncomfortable for users and doesn't feel like a natural part of their world.</span></span>

<span data-ttu-id="9883a-289">通常情况下，应将 Head 锁定的内容替换为附加到用户或放置在世界上的全息影像。</span><span class="sxs-lookup"><span data-stu-id="9883a-289">Head-locked content should usually be replaced with holograms that are attached to the user or placed in the world itself.</span></span> <span data-ttu-id="9883a-290">例如，通常应将 [游标](cursors.md) 推入世界，并自然地进行缩放，以反映该对象在用户注视下的位置和距离。</span><span class="sxs-lookup"><span data-stu-id="9883a-290">For example, [cursors](cursors.md) should generally be pushed out into the world, scaling naturally to reflect the position and distance of the object under the user's gaze.</span></span>

## <a name="handling-tracking-errors"></a><span data-ttu-id="9883a-291">处理跟踪错误</span><span class="sxs-lookup"><span data-stu-id="9883a-291">Handling tracking errors</span></span>

<span data-ttu-id="9883a-292">在某些环境（例如深色走廊）中，耳机可能不能使用内置式跟踪在世界上正确定位。</span><span class="sxs-lookup"><span data-stu-id="9883a-292">In some environments such as dark hallways, it may not be possible for a headset using inside-out tracking to locate itself correctly in the world.</span></span> <span data-ttu-id="9883a-293">如果不正确地处理，这可能导致全息影像不会显示或显示在错误的位置。</span><span class="sxs-lookup"><span data-stu-id="9883a-293">This can lead holograms to either not show up or appear at incorrect places if handled incorrectly.</span></span> <span data-ttu-id="9883a-294">现在，我们讨论了这种情况的发生情况、其对用户体验的影响以及最好地处理这种情况的技巧。</span><span class="sxs-lookup"><span data-stu-id="9883a-294">We now discuss the conditions in which this can happen, its impact on user experience, and tips to best handle this situation.</span></span>

### <a name="headset-cant-track-due-to-insufficient-sensor-data"></a><span data-ttu-id="9883a-295">由于没有足够的传感器数据，耳机无法跟踪</span><span class="sxs-lookup"><span data-stu-id="9883a-295">Headset can't track due to insufficient sensor data</span></span>

<span data-ttu-id="9883a-296">有时，耳机传感器无法确定耳机的位置。</span><span class="sxs-lookup"><span data-stu-id="9883a-296">Sometimes, the headset's sensors aren't able to figure out where the headset is.</span></span> <span data-ttu-id="9883a-297">在以下情况下可能发生这种问题：</span><span class="sxs-lookup"><span data-stu-id="9883a-297">This can happen if:</span></span>

* <span data-ttu-id="9883a-298">房间很暗</span><span class="sxs-lookup"><span data-stu-id="9883a-298">The room is dark</span></span>
* <span data-ttu-id="9883a-299">如果传感器通过头发或双手覆盖</span><span class="sxs-lookup"><span data-stu-id="9883a-299">If the sensors are covered by hair or hands</span></span>
* <span data-ttu-id="9883a-300">如果周围的纹理不足。</span><span class="sxs-lookup"><span data-stu-id="9883a-300">If the surroundings don't have enough texture.</span></span>

<span data-ttu-id="9883a-301">出现这种情况时，头戴式耳机将无法跟踪其位置，以呈现全球锁定的全息影像。</span><span class="sxs-lookup"><span data-stu-id="9883a-301">When this happens, the headset will be unable to track its position with enough accuracy to render world-locked holograms.</span></span> <span data-ttu-id="9883a-302">您无法确定空间锚、固定框架或过渡帧在设备上的位置。</span><span class="sxs-lookup"><span data-stu-id="9883a-302">You can't figure out where a spatial anchor, stationary frame, or stage frame is based on the device.</span></span> <span data-ttu-id="9883a-303">但是，仍可在附加的引用框架中呈现正文锁定的内容。</span><span class="sxs-lookup"><span data-stu-id="9883a-303">However, you can still render body-locked content in the attached frame of reference.</span></span>

<span data-ttu-id="9883a-304">您的应用程序应告诉用户如何获取位置跟踪，并呈现一些用于描述一些提示的回退正文锁定内容，例如，发现传感器并打开更多的灯光。</span><span class="sxs-lookup"><span data-stu-id="9883a-304">Your app should tell the user how to get positional tracking back, rendering some fallback body-locked content that describes some tips, such as uncovering the sensors and turning on more lights.</span></span>

### <a name="headset-tracks-incorrectly-due-to-dynamic-changes-in-the-environment"></a><span data-ttu-id="9883a-305">由于环境中的动态更改，耳机跟踪不正确</span><span class="sxs-lookup"><span data-stu-id="9883a-305">Headset tracks incorrectly due to dynamic changes in the environment</span></span>

<span data-ttu-id="9883a-306">如果环境中有大量动态更改，则设备无法正常跟踪，如许多人在房间内浏览。</span><span class="sxs-lookup"><span data-stu-id="9883a-306">The device can't track properly if there are lots of dynamic changes in the environment, such as many people walking around in the room.</span></span> <span data-ttu-id="9883a-307">在这种情况下，当设备尝试在此动态环境中对自身进行跟踪时，全息影像可能看起来像是跳转或偏移。</span><span class="sxs-lookup"><span data-stu-id="9883a-307">In this case, the holograms may seem to jump or drift as the device tries to track itself in this dynamic environment.</span></span> <span data-ttu-id="9883a-308">如果按此方案，建议在不太动态的环境中使用该设备。</span><span class="sxs-lookup"><span data-stu-id="9883a-308">We recommend using the device in a less dynamic environment if you hit this scenario.</span></span>

### <a name="headset-tracks-incorrectly-because-the-environment-has-changed-significantly-over-time"></a><span data-ttu-id="9883a-309">耳机跟踪不正确，因为随着时间的推移，环境发生了重大变化</span><span class="sxs-lookup"><span data-stu-id="9883a-309">Headset tracks incorrectly because the environment has changed significantly over time</span></span>

<span data-ttu-id="9883a-310">当你开始在家具、墙壁 hangings 等的环境中使用耳机时，可能会出现一些全息从其原始位置移动的情况。</span><span class="sxs-lookup"><span data-stu-id="9883a-310">When you start using a headset in an environment where furniture, wall hangings, and so on, has been moved, it's possible that some holograms may appear shifted from their original locations.</span></span> <span data-ttu-id="9883a-311">在用户移动到新空间中时，早期的全息影像还可能会跳过，因为系统对你的空间的了解将不再为 true。</span><span class="sxs-lookup"><span data-stu-id="9883a-311">The earlier holograms may also jump around as the user moves in the new space because the system's understanding of your space is no longer true.</span></span> <span data-ttu-id="9883a-312">然后，系统会尝试重新映射环境，同时尝试协调空间的功能。</span><span class="sxs-lookup"><span data-stu-id="9883a-312">The system then tries to remap the environment while also trying to reconcile the features of the room.</span></span> <span data-ttu-id="9883a-313">在此方案中，建议鼓励用户替换在世界上固定的全息影像（如果它们未出现在预期位置）。</span><span class="sxs-lookup"><span data-stu-id="9883a-313">In this scenario, it's advised to encourage users to replace holograms they pinned in the world if they aren't appearing where expected.</span></span>

### <a name="headset-tracks-incorrectly-due-to-identical-spaces-in-an-environment"></a><span data-ttu-id="9883a-314">由于环境中的空间相同，耳机跟踪出现错误</span><span class="sxs-lookup"><span data-stu-id="9883a-314">Headset tracks incorrectly due to identical spaces in an environment</span></span>

<span data-ttu-id="9883a-315">有时，家庭或其他空间可能有两个相同的区域。</span><span class="sxs-lookup"><span data-stu-id="9883a-315">Sometimes, a home or other space may have two identical areas.</span></span> <span data-ttu-id="9883a-316">例如，两个相同的会议室，两个相同的角区，两个相同的海报涵盖了设备的视图。</span><span class="sxs-lookup"><span data-stu-id="9883a-316">For example, two identical conference rooms, two identical corner areas, two large identical posters that cover the device's field of view.</span></span> <span data-ttu-id="9883a-317">在这种情况下，设备有时可能会混淆相同的部分，并在内部表示形式中将它们标记为相同。</span><span class="sxs-lookup"><span data-stu-id="9883a-317">In such scenarios, the device may, at times, get confused between the identical parts and mark them as the same in its internal representation.</span></span> <span data-ttu-id="9883a-318">这可能会导致某些区域中的全息影像出现在其他位置。</span><span class="sxs-lookup"><span data-stu-id="9883a-318">This may cause the holograms from some areas to appear in other locations.</span></span> <span data-ttu-id="9883a-319">设备可能会开始丢失跟踪，因为它的内部表示形式已损坏。</span><span class="sxs-lookup"><span data-stu-id="9883a-319">The device may start to lose tracking often since its internal representation of the environment has been corrupted.</span></span> <span data-ttu-id="9883a-320">在这种情况下，建议重置系统的环境理解。</span><span class="sxs-lookup"><span data-stu-id="9883a-320">In this case, it's advised to reset the system's environmental understanding.</span></span> <span data-ttu-id="9883a-321">重置地图将导致丢失所有空间定位。</span><span class="sxs-lookup"><span data-stu-id="9883a-321">Resetting the map leads to loss of all spatial anchor placements.</span></span> <span data-ttu-id="9883a-322">这将导致耳机在环境的唯一区域中顺利地进行跟踪。</span><span class="sxs-lookup"><span data-stu-id="9883a-322">This will cause the headset to track well in the unique areas of the environment.</span></span> <span data-ttu-id="9883a-323">但是，如果设备再次在相同的区域之间出现混乱，则可能会发生此问题。</span><span class="sxs-lookup"><span data-stu-id="9883a-323">However, the problem may reoccur if the device gets confused between the identical areas again.</span></span>

## <a name="see-also"></a><span data-ttu-id="9883a-324">另请参阅</span><span class="sxs-lookup"><span data-stu-id="9883a-324">See also</span></span>
* [<span data-ttu-id="9883a-325">GDC 2017 演示了空间坐标系统和全息渲染</span><span class="sxs-lookup"><span data-stu-id="9883a-325">GDC 2017 presentation on spatial coordinate systems and holographic rendering</span></span>](https://channel9.msdn.com/events/GDC/GDC-2017/GDC2017-008)
* [<span data-ttu-id="9883a-326">Unity 中的坐标系统</span><span class="sxs-lookup"><span data-stu-id="9883a-326">Coordinate systems in Unity</span></span>](../develop/unity/coordinate-systems-in-unity.md)
* [<span data-ttu-id="9883a-327">DirectX 中的坐标系统</span><span class="sxs-lookup"><span data-stu-id="9883a-327">Coordinate systems in DirectX</span></span>](../develop/native/coordinate-systems-in-directx.md)
* [<span data-ttu-id="9883a-328">空间定位点</span><span class="sxs-lookup"><span data-stu-id="9883a-328">Spatial anchors</span></span>](spatial-anchors.md)
* [<span data-ttu-id="9883a-329">混合现实中的共享体验</span><span class="sxs-lookup"><span data-stu-id="9883a-329">Shared experiences in mixed reality</span></span>](../develop/platform-capabilities-and-apis/shared-experiences-in-mixed-reality.md)
* <span data-ttu-id="9883a-330"><a href="/azure/spatial-anchors" target="_blank">Azure 空间定位点</a></span><span class="sxs-lookup"><span data-stu-id="9883a-330"><a href="/azure/spatial-anchors" target="_blank">Azure Spatial Anchors</a></span></span>
* [<span data-ttu-id="9883a-331">案例研究 - 看透现实中的洞</span><span class="sxs-lookup"><span data-stu-id="9883a-331">Case study - Looking through holes in your reality</span></span>](../out-of-scope/case-study-looking-through-holes-in-your-reality.md)