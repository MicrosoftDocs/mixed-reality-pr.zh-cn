---
title: 坐标系统
description: 空间坐标系统用于构建固定、办公室、房间规模和世界规模的混合现实体验。
author: thetuvix
ms.author: alexturn
ms.date: 02/24/2019
ms.topic: article
keywords: 坐标系统，空间坐标系统，仅限方向，固定规模，大规模，固定规模，房间，世界规模，360度，固定，房间，房间，世界，缩放，位置，方向，固定，附加，舞台，定位，空间锚点，世界锁定，世界锁定，永久性，共享，跟踪丢失，云空间锚。
ms.openlocfilehash: bf7641d13302620a32aac260332c3be694ea324b
ms.sourcegitcommit: 09599b4034be825e4536eeb9566968afd021d5f3
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/03/2020
ms.locfileid: "91677671"
---
# <a name="coordinate-systems"></a><span data-ttu-id="d8faf-104">坐标系统</span><span class="sxs-lookup"><span data-stu-id="d8faf-104">Coordinate systems</span></span>

<span data-ttu-id="d8faf-105">就其核心而言，混合现实应用在世界上放置 [全息影像](../discover/hologram.md) ，看起来像真实的对象。</span><span class="sxs-lookup"><span data-stu-id="d8faf-105">At their core, mixed reality apps place [holograms](../discover/hologram.md) in your world that look and sound like real objects.</span></span> <span data-ttu-id="d8faf-106">这涉及到在世界上准确定位和定位那些对用户有意义的全息影像，无论是世界空间还是您创建的虚拟领域。</span><span class="sxs-lookup"><span data-stu-id="d8faf-106">This involves precisely positioning and orienting those holograms at places in the world that are meaningful to the user, whether the world is their physical room or a virtual realm you've created.</span></span> <span data-ttu-id="d8faf-107">当对全息影像的位置和方向或任何其他几何（如看光或手 [的位置](gaze-and-commit.md)） [hand positions](hands-and-tools.md)的推理时，Windows 将提供各种真实的坐标系统，在这些系统中可以表示几何（称为 **空间坐标系统** ）。</span><span class="sxs-lookup"><span data-stu-id="d8faf-107">When reasoning about the position and orientation of your holograms, or any other geometry such as the [gaze](gaze-and-commit.md) ray or [hand positions](hands-and-tools.md), Windows provides various real-world coordinate systems in which that geometry can be expressed, known as **spatial coordinate systems** .</span></span>

<br>

<iframe width="940" height="530" src="https://www.youtube.com/embed/TneGSeqVAXQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## <a name="device-support"></a><span data-ttu-id="d8faf-108">设备支持</span><span class="sxs-lookup"><span data-stu-id="d8faf-108">Device support</span></span>

<table>
    <colgroup>
    <col width="40%" />
    <col width="20%" />
    <col width="20%" />
    <col width="20%" />
    </colgroup>
    <tr>
        <td><span data-ttu-id="d8faf-109"><strong>功能</strong></span><span class="sxs-lookup"><span data-stu-id="d8faf-109"><strong>Feature</strong></span></span></td>
        <td><span data-ttu-id="d8faf-110"><a href="https://docs.microsoft.com/hololens/hololens1-hardware"><strong>HoloLens（第 1 代）</strong></a></span><span class="sxs-lookup"><span data-stu-id="d8faf-110"><a href="https://docs.microsoft.com/hololens/hololens1-hardware"><strong>HoloLens (1st gen)</strong></a></span></span></td>
        <td><span data-ttu-id="d8faf-111"><a href="https://docs.microsoft.com/hololens/hololens2-hardware"><strong>HoloLens 2</strong></span><span class="sxs-lookup"><span data-stu-id="d8faf-111"><a href="https://docs.microsoft.com/hololens/hololens2-hardware"><strong>HoloLens 2</strong></span></span></td>
        <td><span data-ttu-id="d8faf-112"><a href="https://docs.microsoft.com/windows/mixed-reality/immersive-headset-hardware-details"><strong>沉浸式头戴显示设备</strong></a></span><span class="sxs-lookup"><span data-stu-id="d8faf-112"><a href="https://docs.microsoft.com/windows/mixed-reality/immersive-headset-hardware-details"><strong>Immersive headsets</strong></a></span></span></td>
    </tr>
     <tr>
        <td><span data-ttu-id="d8faf-113"><a href="coordinate-systems.md#stationary-frame-of-reference">固定的引用框架</a></span><span class="sxs-lookup"><span data-stu-id="d8faf-113"><a href="coordinate-systems.md#stationary-frame-of-reference">Stationary frame of reference</a></span></span></td>
        <td><span data-ttu-id="d8faf-114">✔️</span><span class="sxs-lookup"><span data-stu-id="d8faf-114">✔️</span></span></td>
        <td><span data-ttu-id="d8faf-115">✔️</span><span class="sxs-lookup"><span data-stu-id="d8faf-115">✔️</span></span></td>
        <td><span data-ttu-id="d8faf-116">✔️</span><span class="sxs-lookup"><span data-stu-id="d8faf-116">✔️</span></span></td>
    </tr>
    <tr>
        <td><span data-ttu-id="d8faf-117"><a href="coordinate-systems.md#attached-frame-of-reference">附加引用框架</a></span><span class="sxs-lookup"><span data-stu-id="d8faf-117"><a href="coordinate-systems.md#attached-frame-of-reference">Attached frame of reference</a></span></span></td>
        <td><span data-ttu-id="d8faf-118">✔️</span><span class="sxs-lookup"><span data-stu-id="d8faf-118">✔️</span></span></td>
        <td><span data-ttu-id="d8faf-119">✔️</span><span class="sxs-lookup"><span data-stu-id="d8faf-119">✔️</span></span></td>
        <td><span data-ttu-id="d8faf-120">✔️</span><span class="sxs-lookup"><span data-stu-id="d8faf-120">✔️</span></span></td>
    </tr>
    <tr>
        <td><span data-ttu-id="d8faf-121"><a href="coordinate-systems.md#stage-frame-of-reference">阶段引用框架</a></span><span class="sxs-lookup"><span data-stu-id="d8faf-121"><a href="coordinate-systems.md#stage-frame-of-reference">Stage frame of reference</a></span></span></td>
        <td><span data-ttu-id="d8faf-122">尚不支持</span><span class="sxs-lookup"><span data-stu-id="d8faf-122">Not supported yet</span></span></td>
        <td><span data-ttu-id="d8faf-123">尚不支持</span><span class="sxs-lookup"><span data-stu-id="d8faf-123">Not supported yet</span></span></td>
        <td><span data-ttu-id="d8faf-124">✔️</span><span class="sxs-lookup"><span data-stu-id="d8faf-124">✔️</span></span></td>
    </tr>
    <tr>
        <td><span data-ttu-id="d8faf-125"><a href="coordinate-systems.md#spatial-anchors">空间定位点</a></span><span class="sxs-lookup"><span data-stu-id="d8faf-125"><a href="coordinate-systems.md#spatial-anchors">Spatial anchors</a></span></span></td>
        <td><span data-ttu-id="d8faf-126">✔️</span><span class="sxs-lookup"><span data-stu-id="d8faf-126">✔️</span></span></td>
        <td><span data-ttu-id="d8faf-127">✔️</span><span class="sxs-lookup"><span data-stu-id="d8faf-127">✔️</span></span></td>
        <td><span data-ttu-id="d8faf-128">✔️</span><span class="sxs-lookup"><span data-stu-id="d8faf-128">✔️</span></span></td>
    </tr>
    <tr>
        <td><span data-ttu-id="d8faf-129"><a href="spatial-mapping.md">空间映射</a></span><span class="sxs-lookup"><span data-stu-id="d8faf-129"><a href="spatial-mapping.md">Spatial mapping</a></span></span></td>
        <td><span data-ttu-id="d8faf-130">✔️</span><span class="sxs-lookup"><span data-stu-id="d8faf-130">✔️</span></span></td>
        <td><span data-ttu-id="d8faf-131">✔️</span><span class="sxs-lookup"><span data-stu-id="d8faf-131">✔️</span></span></td>
        <td>❌</td>
    </tr>
    <tr>
        <td><span data-ttu-id="d8faf-132"><a href="scene-understanding.md">场景理解</a></span><span class="sxs-lookup"><span data-stu-id="d8faf-132"><a href="scene-understanding.md">Scene understanding</a></span></span></td>
        <td>❌</td>
        <td><span data-ttu-id="d8faf-133">✔️</span><span class="sxs-lookup"><span data-stu-id="d8faf-133">✔️</span></span></td>
        <td>❌</td>
    </tr>
</table>

## <a name="mixed-reality-experience-scales"></a><span data-ttu-id="d8faf-134">混合现实体验规模</span><span class="sxs-lookup"><span data-stu-id="d8faf-134">Mixed reality experience scales</span></span>

<span data-ttu-id="d8faf-135">混合现实应用可设计为范围广泛的用户体验，从仅需要耳机方向的360视频查看器到完整的全球规模应用和游戏（需要空间映射和空间锚点）：</span><span class="sxs-lookup"><span data-stu-id="d8faf-135">Mixed reality apps can design for a broad range of user experiences, from 360-degree video viewers that just need the headset's orientation, to full world-scale apps and games, which need spatial mapping and spatial anchors:</span></span>
<br>

| <span data-ttu-id="d8faf-136">体验规模</span><span class="sxs-lookup"><span data-stu-id="d8faf-136">Experience scale</span></span> | <span data-ttu-id="d8faf-137">要求</span><span class="sxs-lookup"><span data-stu-id="d8faf-137">Requirements</span></span> | <span data-ttu-id="d8faf-138">示例体验</span><span class="sxs-lookup"><span data-stu-id="d8faf-138">Example experience</span></span> | 
|----------|----------|----------|
|  <span data-ttu-id="d8faf-139">**仅限方向**</span><span class="sxs-lookup"><span data-stu-id="d8faf-139">**Orientation-only**</span></span> |  <span data-ttu-id="d8faf-140">**耳机方向** (重心-对齐) </span><span class="sxs-lookup"><span data-stu-id="d8faf-140">**Headset orientation** (gravity-aligned)</span></span> |  <span data-ttu-id="d8faf-141">360°视频查看器</span><span class="sxs-lookup"><span data-stu-id="d8faf-141">360° video viewer</span></span> | 
|  <span data-ttu-id="d8faf-142">**固定规模**</span><span class="sxs-lookup"><span data-stu-id="d8faf-142">**Seated-scale**</span></span> |  <span data-ttu-id="d8faf-143">以上，加上 **耳机位置** 相对于零的位置</span><span class="sxs-lookup"><span data-stu-id="d8faf-143">Above, plus **headset position** relative to zero position</span></span> |  <span data-ttu-id="d8faf-144">赛车游戏或空间模拟器</span><span class="sxs-lookup"><span data-stu-id="d8faf-144">Racing game or space simulator</span></span> | 
|  <span data-ttu-id="d8faf-145">**大规模**</span><span class="sxs-lookup"><span data-stu-id="d8faf-145">**Standing-scale**</span></span> |  <span data-ttu-id="d8faf-146">以上，以及 **阶段楼层原点**</span><span class="sxs-lookup"><span data-stu-id="d8faf-146">Above, plus **stage floor origin**</span></span> |  <span data-ttu-id="d8faf-147">在其中施加并减淡的动作游戏</span><span class="sxs-lookup"><span data-stu-id="d8faf-147">Action game where you duck and dodge in place</span></span>  | 
|  <span data-ttu-id="d8faf-148">**会议室-规模**</span><span class="sxs-lookup"><span data-stu-id="d8faf-148">**Room-scale**</span></span> |  <span data-ttu-id="d8faf-149">上方和 **阶段边界多边形**</span><span class="sxs-lookup"><span data-stu-id="d8faf-149">Above, plus **stage bounds polygon**</span></span> |  <span data-ttu-id="d8faf-150">拼图游戏，其中演练了测验题</span><span class="sxs-lookup"><span data-stu-id="d8faf-150">Puzzle game where you walk around the puzzle</span></span> | 
|  <span data-ttu-id="d8faf-151">**全球规模**</span><span class="sxs-lookup"><span data-stu-id="d8faf-151">**World-scale**</span></span> |  <span data-ttu-id="d8faf-152">**空间锚** (和通常是 [空间映射](spatial-mapping.md)) </span><span class="sxs-lookup"><span data-stu-id="d8faf-152">**Spatial anchors** (and typically [spatial mapping](spatial-mapping.md))</span></span> |  <span data-ttu-id="d8faf-153">具有敌人的游戏，如 [RoboRaid](https://www.microsoft.com/p/roboraid/9nblggh5fv3j)</span><span class="sxs-lookup"><span data-stu-id="d8faf-153">Game with enemies coming from your real walls, such as [RoboRaid](https://www.microsoft.com/p/roboraid/9nblggh5fv3j)</span></span> | 

<span data-ttu-id="d8faf-154">这种体验可扩展后跟 "嵌套娃娃" 模型。</span><span class="sxs-lookup"><span data-stu-id="d8faf-154">These experience scales follow a "nesting dolls" model.</span></span> <span data-ttu-id="d8faf-155">此处适用于 Windows Mixed Reality 的关键设计原则是：给定耳机支持为目标体验规模和所有较低刻度构建的应用：</span><span class="sxs-lookup"><span data-stu-id="d8faf-155">The key design principle here for Windows Mixed Reality is that a given headset supports apps built for a target experience scale, as well as all lesser scales:</span></span>
<br>

| <span data-ttu-id="d8faf-156">6DOF 跟踪</span><span class="sxs-lookup"><span data-stu-id="d8faf-156">6DOF tracking</span></span> | <span data-ttu-id="d8faf-157">已定义楼层</span><span class="sxs-lookup"><span data-stu-id="d8faf-157">Floor defined</span></span> | <span data-ttu-id="d8faf-158">360°跟踪</span><span class="sxs-lookup"><span data-stu-id="d8faf-158">360° tracking</span></span> | <span data-ttu-id="d8faf-159">定义的边界</span><span class="sxs-lookup"><span data-stu-id="d8faf-159">Bounds defined</span></span> | <span data-ttu-id="d8faf-160">空间定位点</span><span class="sxs-lookup"><span data-stu-id="d8faf-160">Spatial anchors</span></span> | <span data-ttu-id="d8faf-161">最大体验</span><span class="sxs-lookup"><span data-stu-id="d8faf-161">Max experience</span></span> | 
|----------|----------|----------|----------|----------|----------|
|  <span data-ttu-id="d8faf-162">否</span><span class="sxs-lookup"><span data-stu-id="d8faf-162">No</span></span> |  - |  - |  - |  - |  <span data-ttu-id="d8faf-163">**仅限方向**</span><span class="sxs-lookup"><span data-stu-id="d8faf-163">**Orientation-only**</span></span> | 
|  <span data-ttu-id="d8faf-164">**是**</span><span class="sxs-lookup"><span data-stu-id="d8faf-164">**Yes**</span></span> |  <span data-ttu-id="d8faf-165">否</span><span class="sxs-lookup"><span data-stu-id="d8faf-165">No</span></span> |  - |  - |  - |  <span data-ttu-id="d8faf-166">**固定**</span><span class="sxs-lookup"><span data-stu-id="d8faf-166">**Seated**</span></span> | 
|  <span data-ttu-id="d8faf-167">**是**</span><span class="sxs-lookup"><span data-stu-id="d8faf-167">**Yes**</span></span> |  <span data-ttu-id="d8faf-168">**是**</span><span class="sxs-lookup"><span data-stu-id="d8faf-168">**Yes**</span></span> |  <span data-ttu-id="d8faf-169">否</span><span class="sxs-lookup"><span data-stu-id="d8faf-169">No</span></span> |  - |  - |  <span data-ttu-id="d8faf-170">**继续**</span><span class="sxs-lookup"><span data-stu-id="d8faf-170">**Standing - Forward**</span></span> | 
|  <span data-ttu-id="d8faf-171">**是**</span><span class="sxs-lookup"><span data-stu-id="d8faf-171">**Yes**</span></span> |  <span data-ttu-id="d8faf-172">**是**</span><span class="sxs-lookup"><span data-stu-id="d8faf-172">**Yes**</span></span> |  <span data-ttu-id="d8faf-173">**是**</span><span class="sxs-lookup"><span data-stu-id="d8faf-173">**Yes**</span></span> |  <span data-ttu-id="d8faf-174">否</span><span class="sxs-lookup"><span data-stu-id="d8faf-174">No</span></span> |  - |  <span data-ttu-id="d8faf-175">**360°**</span><span class="sxs-lookup"><span data-stu-id="d8faf-175">**Standing - 360°**</span></span> | 
|  <span data-ttu-id="d8faf-176">**是**</span><span class="sxs-lookup"><span data-stu-id="d8faf-176">**Yes**</span></span> |  <span data-ttu-id="d8faf-177">**是**</span><span class="sxs-lookup"><span data-stu-id="d8faf-177">**Yes**</span></span> |  <span data-ttu-id="d8faf-178">**是**</span><span class="sxs-lookup"><span data-stu-id="d8faf-178">**Yes**</span></span> |  <span data-ttu-id="d8faf-179">**是**</span><span class="sxs-lookup"><span data-stu-id="d8faf-179">**Yes**</span></span> |  <span data-ttu-id="d8faf-180">否</span><span class="sxs-lookup"><span data-stu-id="d8faf-180">No</span></span> |  <span data-ttu-id="d8faf-181">**留下**</span><span class="sxs-lookup"><span data-stu-id="d8faf-181">**Room**</span></span> | 
|  <span data-ttu-id="d8faf-182">**是**</span><span class="sxs-lookup"><span data-stu-id="d8faf-182">**Yes**</span></span> |  <span data-ttu-id="d8faf-183">**是**</span><span class="sxs-lookup"><span data-stu-id="d8faf-183">**Yes**</span></span> |  <span data-ttu-id="d8faf-184">**是**</span><span class="sxs-lookup"><span data-stu-id="d8faf-184">**Yes**</span></span> |  <span data-ttu-id="d8faf-185">**是**</span><span class="sxs-lookup"><span data-stu-id="d8faf-185">**Yes**</span></span> |  <span data-ttu-id="d8faf-186">**是**</span><span class="sxs-lookup"><span data-stu-id="d8faf-186">**Yes**</span></span> |  <span data-ttu-id="d8faf-187">**World**</span><span class="sxs-lookup"><span data-stu-id="d8faf-187">**World**</span></span> | 

<span data-ttu-id="d8faf-188">请注意，在 HoloLens 上尚不支持参考阶段。</span><span class="sxs-lookup"><span data-stu-id="d8faf-188">Note that the Stage frame of reference is not yet supported on HoloLens.</span></span> <span data-ttu-id="d8faf-189">在 HoloLens 上，会议室规模的应用目前需要使用 [空间映射](spatial-mapping.md) 或 [场景了解](scene-understanding.md) 来查找用户的地面和墙。</span><span class="sxs-lookup"><span data-stu-id="d8faf-189">A room-scale app on HoloLens currently needs to use [spatial mapping](spatial-mapping.md) or [scene understanding](scene-understanding.md) to find the user's floor and walls.</span></span>

## <a name="spatial-coordinate-systems"></a><span data-ttu-id="d8faf-190">空间坐标系统</span><span class="sxs-lookup"><span data-stu-id="d8faf-190">Spatial coordinate systems</span></span>

<span data-ttu-id="d8faf-191">所有3D 图形应用程序都使用 [笛卡尔坐标系统](https://docs.microsoft.com/windows/uwp/graphics-concepts/coordinate-systems) 来表示它们所呈现的虚拟世界中的对象的位置和方向。</span><span class="sxs-lookup"><span data-stu-id="d8faf-191">All 3D graphics applications use [Cartesian coordinate systems](https://docs.microsoft.com/windows/uwp/graphics-concepts/coordinate-systems) to reason about the positions and orientations of objects in the virtual worlds they render.</span></span> <span data-ttu-id="d8faf-192">此类坐标系统建立了三个垂直轴，沿该轴放置对象： X、Y 和 Z 轴。</span><span class="sxs-lookup"><span data-stu-id="d8faf-192">Such coordinate systems establish 3 perpendicular axes along which to position objects: an X, Y, and Z axis.</span></span>

<span data-ttu-id="d8faf-193">在 [混合现实](../discover/mixed-reality.md)中，你的应用程序将考虑虚拟和物理坐标系的原因。</span><span class="sxs-lookup"><span data-stu-id="d8faf-193">In [mixed reality](../discover/mixed-reality.md), your apps will reason about both virtual and physical coordinate systems.</span></span> <span data-ttu-id="d8faf-194">Windows 调用在物理环境中具有实际意义的坐标系统，即 **空间坐标系统** 。</span><span class="sxs-lookup"><span data-stu-id="d8faf-194">Windows calls a coordinate system that has real meaning in the physical world a **spatial coordinate system** .</span></span>

<span data-ttu-id="d8faf-195">空间坐标系统以米为单位表示坐标值。</span><span class="sxs-lookup"><span data-stu-id="d8faf-195">Spatial coordinate systems express their coordinate values in meters.</span></span> <span data-ttu-id="d8faf-196">这意味着，当对象在混合现实中呈现时，X、Y 或 Z 轴上相隔2个单位的每个对象将彼此分开显示2米。</span><span class="sxs-lookup"><span data-stu-id="d8faf-196">This means that objects placed 2 units apart in either the X, Y or Z axis will appear 2 meters apart from one another when rendered in mixed reality.</span></span> <span data-ttu-id="d8faf-197">这使你可以轻松地在真实规模上呈现对象和环境。</span><span class="sxs-lookup"><span data-stu-id="d8faf-197">This lets you easily render objects and environments at real-world scale.</span></span>

<span data-ttu-id="d8faf-198">通常，笛卡尔坐标系统可以是右手或左手。</span><span class="sxs-lookup"><span data-stu-id="d8faf-198">In general, Cartesian coordinate systems can be either right-handed or left-handed.</span></span> <span data-ttu-id="d8faf-199">Windows 上的空间坐标系统始终是右手的，这意味着正 X 轴向右，Y 轴上点向上 (对齐到重力) 并且正 Z 轴指向你。</span><span class="sxs-lookup"><span data-stu-id="d8faf-199">Spatial coordinate systems on Windows are always right-handed, which means that the positive X-axis points right, the positive Y-axis points up (aligned to gravity) and the positive Z-axis points towards you.</span></span>

<span data-ttu-id="d8faf-200">在这两种坐标系统中，正 X 轴向右，Y 轴向上点向右。</span><span class="sxs-lookup"><span data-stu-id="d8faf-200">In both kinds of coordinate systems, the positive X-axis points to the right and the positive Y-axis points up.</span></span> <span data-ttu-id="d8faf-201">不同之处在于 Z 轴正向你或向外的方向。</span><span class="sxs-lookup"><span data-stu-id="d8faf-201">The difference is whether the positive Z-axis points towards or away from you.</span></span> <span data-ttu-id="d8faf-202">您可以通过在正 X 方向上向左或向右箭头，然后将其运行到 Y Y 方向，来记住 Z 轴的正方向。</span><span class="sxs-lookup"><span data-stu-id="d8faf-202">You can remember which direction the positive Z-axis points by pointing the fingers of either your left or right hand in the positive X direction and curling them to the positive Y direction.</span></span> <span data-ttu-id="d8faf-203">你的拇指点向下或远离你的方向是该坐标系统的正 Z 轴指向的方向。</span><span class="sxs-lookup"><span data-stu-id="d8faf-203">The direction your thumb points, either toward or away from you, is the direction that the positive Z-axis points for that coordinate system.</span></span>

## <a name="building-an-orientation-only-or-seated-scale-experience"></a><span data-ttu-id="d8faf-204">构建仅限方向或固定规模的体验</span><span class="sxs-lookup"><span data-stu-id="d8faf-204">Building an orientation-only or seated-scale experience</span></span>

<span data-ttu-id="d8faf-205">全息 [呈现](../develop/platform-capabilities-and-apis/rendering.md) 的关键是在用户四处移动时更改应用程序的全息影像的视图，以匹配其预测的头运动。</span><span class="sxs-lookup"><span data-stu-id="d8faf-205">The key to holographic [rendering](../develop/platform-capabilities-and-apis/rendering.md) is changing your app's view of its holograms each frame as the user moves around, to match their predicted head motion.</span></span> <span data-ttu-id="d8faf-206">您可以使用 **固定的参考框架** ，构建与用户头位置和打印头方向发生变化的 **固定规模体验** 。</span><span class="sxs-lookup"><span data-stu-id="d8faf-206">You can build **seated-scale experiences** that respect changes to the user's head position and head orientation using a **stationary frame of reference** .</span></span>

<span data-ttu-id="d8faf-207">某些内容必须忽略头位置更新，始终固定在选择的标题上，并在任何时间与用户之间保持固定。</span><span class="sxs-lookup"><span data-stu-id="d8faf-207">Some content must ignore head position updates, staying fixed at a chosen heading and distance from the user at all times.</span></span> <span data-ttu-id="d8faf-208">主要示例是360度的视频：由于视频是从单个固定透视中捕获的，因此它会破坏视图位置相对于内容的移动效果，即使视图方向必须随着用户的视觉位置而更改。</span><span class="sxs-lookup"><span data-stu-id="d8faf-208">The primary example is 360-degree video: because the video is captured from a single fixed perspective, it would ruin the illusion for the view position to move relative to the content, even though the view orientation must change as the user looks around.</span></span> <span data-ttu-id="d8faf-209">您可以使用 **附加的参考框架** 构建这种 **仅限方向的体验** 。</span><span class="sxs-lookup"><span data-stu-id="d8faf-209">You can build such **orientation-only experiences** using an **attached frame of reference** .</span></span>

### <a name="stationary-frame-of-reference"></a><span data-ttu-id="d8faf-210">固定的引用框架</span><span class="sxs-lookup"><span data-stu-id="d8faf-210">Stationary frame of reference</span></span>

<span data-ttu-id="d8faf-211">固定框架提供的坐标系统的工作方式是使对象附近的对象位置尽可能稳定，同时遵从用户头位置中的更改。</span><span class="sxs-lookup"><span data-stu-id="d8faf-211">The coordinate system provided by a stationary frame of reference works to keep the positions of objects near the user as stable as possible relative to the world, while respecting changes in the user's head position.</span></span>

<span data-ttu-id="d8faf-212">对于在游戏引擎（如 [Unity](https://unity3d.com/)）中大规模体验，固定框架是指定义引擎的 "世界原点"。</span><span class="sxs-lookup"><span data-stu-id="d8faf-212">For seated-scale experiences in a game engine such as [Unity](https://unity3d.com/), a stationary frame of reference is what defines the engine's "world origin."</span></span> <span data-ttu-id="d8faf-213">位于特定世界坐标位置的对象使用固定的引用框架来定义它们在实际中使用相同坐标的位置。</span><span class="sxs-lookup"><span data-stu-id="d8faf-213">Objects that are placed at a specific world coordinate use the stationary frame of reference to define their position in the real-world using those same coordinates.</span></span> <span data-ttu-id="d8faf-214">即使是在用户浏览时保留在世界各地的内容也称为 **全球锁定** 的内容。</span><span class="sxs-lookup"><span data-stu-id="d8faf-214">Content that stays put in the world, even as the user walks around, is known as **world-locked** content.</span></span>

<span data-ttu-id="d8faf-215">通常，应用程序会在启动时创建一个固定的固定框架，并在应用程序的整个生存期内使用其坐标系统。</span><span class="sxs-lookup"><span data-stu-id="d8faf-215">An app will typically create one stationary frame of reference on startup and use its coordinate system throughout the app's lifetime.</span></span> <span data-ttu-id="d8faf-216">作为 Unity 中的应用开发人员，你可以直接相对于原点放置内容，这将是用户的初始头位置和方向。</span><span class="sxs-lookup"><span data-stu-id="d8faf-216">As an app developer in Unity, you can just start placing content relative to the origin, which will be at the user's initial head position and orientation.</span></span> <span data-ttu-id="d8faf-217">如果用户移到了一个新位置并想要继续进行其大规模体验，则可以在该位置 recenter 世界原点。</span><span class="sxs-lookup"><span data-stu-id="d8faf-217">If the user moves to a new place and wants to continue their seated-scale experience, you can recenter the world origin at that location.</span></span>

<span data-ttu-id="d8faf-218">随着时间的推移，随着系统更详细地了解用户的环境，它可能会确定现实世界不同点之间的距离是否比以前认为的系统更短或更长。</span><span class="sxs-lookup"><span data-stu-id="d8faf-218">Over time, as the system learns more about the user's environment, it may determine that distances between various points in the real-world are shorter or longer than the system previously believed.</span></span> <span data-ttu-id="d8faf-219">如果在应用程序上的应用程序的固定框架中呈现全息影像，而用户在游离的范围内超过5米，则您的应用程序可能会观察到这些全息影像的观察位置。</span><span class="sxs-lookup"><span data-stu-id="d8faf-219">If you render holograms in a stationary frame of reference for an app on HoloLens where users wander beyond an area about 5 meters wide, your app may observe drift in the observed location of those holograms.</span></span> <span data-ttu-id="d8faf-220">如果你的体验的用户 wandering 超过5米，则会生成 [全球规模的体验](#building-a-world-scale-experience)，这将需要更多的技术来保持全息稳定，如下所述。</span><span class="sxs-lookup"><span data-stu-id="d8faf-220">If your experience has users wandering beyond 5 meters, you're building a [world-scale experience](#building-a-world-scale-experience), which will require additional techniques to keep holograms stable, as described below.</span></span>

### <a name="attached-frame-of-reference"></a><span data-ttu-id="d8faf-221">附加引用框架</span><span class="sxs-lookup"><span data-stu-id="d8faf-221">Attached frame of reference</span></span>

<span data-ttu-id="d8faf-222">当应用程序首次创建框架时，附加的引用框架将随用户一起四处移动。</span><span class="sxs-lookup"><span data-stu-id="d8faf-222">An attached frame of reference moves with the user as they walk around, with a fixed heading defined when the app first creates the frame.</span></span> <span data-ttu-id="d8faf-223">这样，用户就可以轻松地浏览位于该引用框架中的内容。</span><span class="sxs-lookup"><span data-stu-id="d8faf-223">This lets the user comfortably look around at content placed within that frame of reference.</span></span> <span data-ttu-id="d8faf-224">以该用户相关的方式呈现的内容称为 **正文锁定** 内容。</span><span class="sxs-lookup"><span data-stu-id="d8faf-224">Content rendered in this user-relative way is called **body-locked** content.</span></span>

<span data-ttu-id="d8faf-225">当耳机无法确定它在世界中的位置时，附加的参考框架提供了可用于呈现全息影像的唯一坐标系统。</span><span class="sxs-lookup"><span data-stu-id="d8faf-225">When the headset can't figure out where it is in the world, an attached frame of reference provides the only coordinate system which can be used to render holograms.</span></span> <span data-ttu-id="d8faf-226">这使得它非常适合用于显示回退 UI，告诉用户其设备无法在世界中找到它们。</span><span class="sxs-lookup"><span data-stu-id="d8faf-226">This makes it ideal for displaying fallback UI to tell the user that their device can't find them in the world.</span></span> <span data-ttu-id="d8faf-227">已固定或更高的应用程序应包括仅限方向的回退，以帮助用户再次工作，UI 与 [混合现实主页](../discover/navigating-the-windows-mixed-reality-home.md)中显示的 UI 类似。</span><span class="sxs-lookup"><span data-stu-id="d8faf-227">Apps that are seated-scale or higher should include an orientation-only fallback to help the user get going again, with UI similar to that shown in the [Mixed Reality home](../discover/navigating-the-windows-mixed-reality-home.md).</span></span>

## <a name="building-a-standing-scale-or-room-scale-experience"></a><span data-ttu-id="d8faf-228">构建大规模或会议室规模的体验</span><span class="sxs-lookup"><span data-stu-id="d8faf-228">Building a standing-scale or room-scale experience</span></span>

<span data-ttu-id="d8faf-229">若要超越沉浸式耳机，并构建 **大规模体验** ，可以使用 **参考阶段框架** 。</span><span class="sxs-lookup"><span data-stu-id="d8faf-229">To go beyond seated-scale on an immersive headset and build a **standing-scale experience** , you can use the **stage frame of reference** .</span></span>

<span data-ttu-id="d8faf-230">为了提供 **房间规模的体验** ，让用户在预先定义的5米边界内浏览，你还可以检查 **阶段边界** 。</span><span class="sxs-lookup"><span data-stu-id="d8faf-230">To provide a **room-scale experience** , letting users walk around within the 5-meter boundary they pre-defined, you can check for **stage bounds** as well.</span></span>

### <a name="stage-frame-of-reference"></a><span data-ttu-id="d8faf-231">阶段引用框架</span><span class="sxs-lookup"><span data-stu-id="d8faf-231">Stage frame of reference</span></span>

<span data-ttu-id="d8faf-232">第一次设置沉浸式耳机时，用户定义了一个阶段，该 **阶段** 表示他们将遇到混合现实的场所。</span><span class="sxs-lookup"><span data-stu-id="d8faf-232">When first setting up an immersive headset, the user defines a **stage** , which represents the room in which they will experience mixed reality.</span></span> <span data-ttu-id="d8faf-233">舞台最小程度地定义了一个 **舞台原点** 、一个空间坐标系统，该系统位于用户所选楼层位置，并在其打算使用设备的位置前进方向。</span><span class="sxs-lookup"><span data-stu-id="d8faf-233">The stage minimally defines a **stage origin** , a spatial coordinate system centered at the user's chosen floor position and forward orientation where they intend to use the device.</span></span> <span data-ttu-id="d8faf-234">通过将内容放在 Y = 0 地面平面上的 "舞台坐标系统" 中，可以确保在用户发生时，您的全息影像非常熟悉，为用户提供 **大规模的体验** 。</span><span class="sxs-lookup"><span data-stu-id="d8faf-234">By placing content in this stage coordinate system at the Y=0 floor plane, you can ensure your holograms appear comfortably on the floor when the user is standing, providing users with a **standing-scale experience** .</span></span>

### <a name="stage-bounds"></a><span data-ttu-id="d8faf-235">阶段边界</span><span class="sxs-lookup"><span data-stu-id="d8faf-235">Stage bounds</span></span>

<span data-ttu-id="d8faf-236">用户还可以选择定义 **舞台边界** ，即在房间内已清除了其在混合现实中要四处移动的区域。</span><span class="sxs-lookup"><span data-stu-id="d8faf-236">The user may also optionally define **stage bounds** , an area within the room that they've cleared of furniture where they intend to move around in mixed reality.</span></span> <span data-ttu-id="d8faf-237">如果是这样，则该应用程序可以使用这些界限来构建 **会议室规模的体验** ，以确保在用户可以访问的位置始终放置全息影像。</span><span class="sxs-lookup"><span data-stu-id="d8faf-237">If so, the app can build a **room-scale experience** , using these bounds to ensure that holograms are always placed where the user can reach them.</span></span>

<span data-ttu-id="d8faf-238">由于参考的阶段框架提供了一个固定坐标系统，在该系统中放置了楼层相关的内容，因此，它是迁移为虚拟现实耳机开发的大规模和房间规模应用程序的最简单途径。</span><span class="sxs-lookup"><span data-stu-id="d8faf-238">Because the stage frame of reference provides a single fixed coordinate system within which to place floor-relative content, it is the easiest path for porting standing-scale and room-scale applications developed for virtual reality headsets.</span></span> <span data-ttu-id="d8faf-239">但是，与这些 VR 平台一样，单个坐标系统仅可在大约5米 (16 英尺) 直径的情况下使内容稳定，而在系统调整的情况下，在拉杆上，从中心到远处的内容太远。</span><span class="sxs-lookup"><span data-stu-id="d8faf-239">However, as with those VR platforms, a single coordinate system can only stabilize content in about a 5 meter (16 foot) diameter, before lever-arm effects cause content far from the center to shift noticeably as the system adjusts.</span></span> <span data-ttu-id="d8faf-240">若要超过5米，则需要空间锚。</span><span class="sxs-lookup"><span data-stu-id="d8faf-240">To go beyond 5 meters, spatial anchors are needed.</span></span>

## <a name="building-a-world-scale-experience"></a><span data-ttu-id="d8faf-241">构建全球范围的体验</span><span class="sxs-lookup"><span data-stu-id="d8faf-241">Building a world-scale experience</span></span>

<span data-ttu-id="d8faf-242">HoloLens 允许用户游离5米以上的真正 **世界规模体验** 。</span><span class="sxs-lookup"><span data-stu-id="d8faf-242">HoloLens allows for true **world-scale experiences** that let users wander beyond 5 meters.</span></span> <span data-ttu-id="d8faf-243">若要构建全球规模的应用程序，你将需要超出用于会议室规模体验的新技术。</span><span class="sxs-lookup"><span data-stu-id="d8faf-243">To build a world-scale app, you'll need new techniques beyond those used for room-scale experiences.</span></span>

### <a name="why-a-single-rigid-coordinate-system-cannot-be-used-beyond-5-meters"></a><span data-ttu-id="d8faf-244">为什么不能在5米以上使用单个刚性坐标系统</span><span class="sxs-lookup"><span data-stu-id="d8faf-244">Why a single rigid coordinate system cannot be used beyond 5 meters</span></span>

<span data-ttu-id="d8faf-245">目前，编写游戏、数据可视化应用程序或虚拟现实应用时，典型的方法是建立一个绝对世界坐标系统，所有其他坐标都可以可靠地映射回。</span><span class="sxs-lookup"><span data-stu-id="d8faf-245">Today, when writing games, data visualization apps, or virtual reality apps, the typical approach is to establish one absolute world coordinate system that all other coordinates can reliably map back to.</span></span> <span data-ttu-id="d8faf-246">在该环境中，始终可以找到一个稳定的转换，用于定义该世界中任意两个对象之间的关系。</span><span class="sxs-lookup"><span data-stu-id="d8faf-246">In that environment, you can always find a stable transform that defines a relationship between any two objects in that world.</span></span> <span data-ttu-id="d8faf-247">如果未移动这些对象，则其相对转换始终保持不变。</span><span class="sxs-lookup"><span data-stu-id="d8faf-247">If you didn't move those objects, their relative transforms would always remain the same.</span></span> <span data-ttu-id="d8faf-248">当渲染纯粹的虚拟世界时，这种全局坐标系统可以正常工作。</span><span class="sxs-lookup"><span data-stu-id="d8faf-248">This kind of global coordinate system works well when rendering a purely virtual world where you know all of the geometry in advance.</span></span> <span data-ttu-id="d8faf-249">如今，房间内的 VR 应用通常建立此类绝对房间级坐标系统，并将其原点置于地面上。</span><span class="sxs-lookup"><span data-stu-id="d8faf-249">Room-scale VR apps today typically establish this kind of absolute room-scale coordinate system with its origin on the floor.</span></span>

<span data-ttu-id="d8faf-250">与此相反，untethered mixed reality 设备（如 HoloLens）对世界有动态的传感器驱动理解，随着用户的周围时间的推移而不断调整其知识，因为他们在一座建筑的整个楼层走出了很多时间。</span><span class="sxs-lookup"><span data-stu-id="d8faf-250">In contrast, an untethered mixed reality device such as HoloLens has a dynamic sensor-driven understanding of the world, continuously adjusting its knowledge over time of the user's surroundings as they walk many meters across an entire floor of a building.</span></span> <span data-ttu-id="d8faf-251">在全球范围内，如果你将所有全息影像置于单个硬坐标系中，则这些全息影像一定会随着时间的推移而发生变化，不管是在世界之间还是彼此之间。</span><span class="sxs-lookup"><span data-stu-id="d8faf-251">In a world-scale experience, if you placed all your holograms in a single rigid coordinate system, those holograms would necessarily drift over time, either relative to the world or to each other.</span></span>

<span data-ttu-id="d8faf-252">例如，耳机当前可能相信世界上的两个位置相隔4米，然后在以后优化此理解，了解位置实际上是3.9 米。</span><span class="sxs-lookup"><span data-stu-id="d8faf-252">For example, the headset may currently believe two locations in the world to be 4 meters apart, and then later refine that understanding, learning that the locations are in fact 3.9 meters apart.</span></span> <span data-ttu-id="d8faf-253">如果这些全息影像最初在一个硬坐标系中相隔4米，则其中一个将始终从真实世界向下显示0.1 米。</span><span class="sxs-lookup"><span data-stu-id="d8faf-253">If those holograms had initially been placed 4 meters apart in a single rigid coordinate system, one of them would then always appear 0.1 meters off from the real world.</span></span>

### <a name="spatial-anchors"></a><span data-ttu-id="d8faf-254">空间定位点</span><span class="sxs-lookup"><span data-stu-id="d8faf-254">Spatial anchors</span></span>

<span data-ttu-id="d8faf-255">Windows Mixed Reality 通过使你能够创建 [空间锚](spatial-anchors.md) 点来标记用户已放置全息影像的重要点，可以解决上一部分中所述的问题。</span><span class="sxs-lookup"><span data-stu-id="d8faf-255">Windows Mixed Reality solves the issue described in the previous section by letting you create [spatial anchors](spatial-anchors.md) to mark important points in the world where the user has placed holograms.</span></span> <span data-ttu-id="d8faf-256">空间定位点表示系统应随时间跟踪的世界上的重要点。</span><span class="sxs-lookup"><span data-stu-id="d8faf-256">A spatial anchor represents an important point in the world that the system should keep track of over time.</span></span>

<span data-ttu-id="d8faf-257">当设备了解到世界时，这些空间定位点可以根据需要调整它们之间的位置，以确保每个定位点相对于真实世界的位置保持准确。</span><span class="sxs-lookup"><span data-stu-id="d8faf-257">As the device learns about the world, these spatial anchors can adjust their position relative to one another as needed to ensure that each anchor stays precisely where it was placed relative to the real-world.</span></span> <span data-ttu-id="d8faf-258">通过在用户放置全息影像的位置放置一个空间锚点，然后相对于其空间锚点定位该全息图，可以确保全息影像保持最佳稳定性，即使用户在数米内漫游也是如此。</span><span class="sxs-lookup"><span data-stu-id="d8faf-258">By placing a spatial anchor at the location where the user places a hologram and then positioning that hologram relative to its spatial anchor, you can ensure that the hologram maintains optimal stability, even as the user roams across tens of meters.</span></span>

<span data-ttu-id="d8faf-259">空间锚点之间的这种持续调整相对于另一种情况是：坐标系统与空间锚定和固定的参考框架之间的主要区别：</span><span class="sxs-lookup"><span data-stu-id="d8faf-259">This continuous adjustment of spatial anchors relative to one another is the key difference between coordinate systems from spatial anchors and stationary frames of reference:</span></span>

* <span data-ttu-id="d8faf-260">放置在 "固定" 引用框架中的全息影像会彼此保持彼此的严格关系。</span><span class="sxs-lookup"><span data-stu-id="d8faf-260">Holograms placed in the stationary frame of reference all retain a rigid relationship to one another.</span></span> <span data-ttu-id="d8faf-261">但是，当用户进行长距离工作时，框架的坐标系统可能会相对于世界的偏移，以确保用户旁边的全息影像显得稳定。</span><span class="sxs-lookup"><span data-stu-id="d8faf-261">However, as the user walks long distances, that frame's coordinate system may drift relative to the world to ensure that holograms next to the user appear stable.</span></span>

* <span data-ttu-id="d8faf-262">放置在参考阶段的全息影像还会保留彼此之间的严格关系。</span><span class="sxs-lookup"><span data-stu-id="d8faf-262">Holograms placed in the stage frame of reference also retain a rigid relationship to one another.</span></span> <span data-ttu-id="d8faf-263">与固定框架不同，阶段框架始终相对于其定义的物理原点保持固定位置。</span><span class="sxs-lookup"><span data-stu-id="d8faf-263">In contrast to the stationary frame, the stage frame always remains fixed in place relative to its defined physical origin.</span></span> <span data-ttu-id="d8faf-264">但是，当舞台坐标系统中呈现的内容超出其5计量边界时，它将仅在用户处于该边界内时才显示为稳定。</span><span class="sxs-lookup"><span data-stu-id="d8faf-264">However, content rendered in the stage's coordinate system beyond its 5-meter boundary will only appear stable while the user is standing within that boundary.</span></span>

* <span data-ttu-id="d8faf-265">使用一个空间锚点放置的全息影像可能会相对于使用另一个空间锚点放置的全息影像而偏移。</span><span class="sxs-lookup"><span data-stu-id="d8faf-265">Holograms placed using one spatial anchor may drift relative to holograms placed using another spatial anchor.</span></span> <span data-ttu-id="d8faf-266">这使 Windows 能够提高其对每个空间锚点的位置的理解，即使在这种情况下，一个定位点需要自行调整，另一个定位点需要进行调整。</span><span class="sxs-lookup"><span data-stu-id="d8faf-266">This allows Windows to improve its understanding of the position of each spatial anchor, even if, for example, one anchor needs to adjust itself left and another anchor needs to adjust right.</span></span>

<span data-ttu-id="d8faf-267">与固定框架（始终优化用户附近的稳定性）相比，引用和空间锚的阶段框架可确保其起源附近的稳定性。</span><span class="sxs-lookup"><span data-stu-id="d8faf-267">In contrast to a stationary frame of reference, which always optimizes for stability near the user, the stage frame of reference and spatial anchors ensure stability near their origins.</span></span> <span data-ttu-id="d8faf-268">这有助于在一段时间内使这些全息影像保持准确的位置，但这也意味着，从离坐标系统源太远的位置渲染离线会遇到越来越严重的杠杆的影响。</span><span class="sxs-lookup"><span data-stu-id="d8faf-268">This helps those holograms stay precisely in place over time, but it also means that holograms rendered too far away from their coordinate system's origin will experience increasingly severe lever-arm effects.</span></span> <span data-ttu-id="d8faf-269">这是因为，舞台或锚点的位置和方向的小调整会按与该锚点的距离成比例放大。</span><span class="sxs-lookup"><span data-stu-id="d8faf-269">This is because small adjustments to the position and orientation of the stage or anchor are magnified proportional to the distance from that anchor.</span></span> 

<span data-ttu-id="d8faf-270">合理的经验法则是确保基于远处空间锚定系统呈现的所有内容都在其原点约3米以内。</span><span class="sxs-lookup"><span data-stu-id="d8faf-270">A good rule of thumb is to ensure that anything you render based on a distant spatial anchor's coordinate system is within about 3 meters of its origin.</span></span> <span data-ttu-id="d8faf-271">对于附近的阶段，呈现远距离内容是正常的，因为任何增加的定位错误都将只影响不会在用户的视图中发生很多移动的小全息影像。</span><span class="sxs-lookup"><span data-stu-id="d8faf-271">For a nearby stage origin, rendering distant content is OK, as any increased positional error will affect only small holograms that will not shift much in the user's view.</span></span>

### <a name="spatial-anchor-persistence"></a><span data-ttu-id="d8faf-272">空间锚点持久性</span><span class="sxs-lookup"><span data-stu-id="d8faf-272">Spatial anchor persistence</span></span>

<span data-ttu-id="d8faf-273">空间锚还可以让你的应用程序记住重要的位置，即使在应用程序挂起或设备关闭后也是如此。</span><span class="sxs-lookup"><span data-stu-id="d8faf-273">Spatial anchors can also allow your app to remember an important location even after your app suspends or the device is shut down.</span></span>

<span data-ttu-id="d8faf-274">你可以将应用创建的空间锚点保存到磁盘，以后再通过将其保存到应用的 **空间锚存储** 来重新加载它们。</span><span class="sxs-lookup"><span data-stu-id="d8faf-274">You can save to disk the spatial anchors your app creates, and then load them back again later, by persisting them to your app's **spatial anchor store** .</span></span> <span data-ttu-id="d8faf-275">保存或加载定位点时，需要提供对应用有意义的字符串键，以便以后标识定位点。</span><span class="sxs-lookup"><span data-stu-id="d8faf-275">When saving or loading an anchor, you provide a string key that is meaningful to your app, in order to identify the anchor later.</span></span> <span data-ttu-id="d8faf-276">请将此密钥视为定位点的文件名。</span><span class="sxs-lookup"><span data-stu-id="d8faf-276">Think of this key as the filename for your anchor.</span></span> <span data-ttu-id="d8faf-277">如果要将其他数据与该锚点相关联（例如用户放置在该位置的3D 模型），请将其保存到应用的本地存储，并将其与所选的密钥相关联。</span><span class="sxs-lookup"><span data-stu-id="d8faf-277">If you want to associate other data with that anchor, such as a 3D model that the user placed at that location, save that to your app's local storage and associate it with the key you chose.</span></span>

<span data-ttu-id="d8faf-278">通过将定位点保存到应用商店，你的用户可以放置单独的全息影像，或放置一个工作区，应用将在该工作区中放置其各种全息影像，然后在其预期的位置找到这些全息影像，这超出了应用的多种用途。</span><span class="sxs-lookup"><span data-stu-id="d8faf-278">By persisting anchors to the store, your users can place individual holograms or place a workspace around which an app will place its various holograms, and then find those holograms later where they expect them, over many uses of your app.</span></span>

<span data-ttu-id="d8faf-279">还可以使用 <a href="https://docs.microsoft.com/azure/spatial-anchors/overview" target="_blank">Azure 空间定位点</a>在 HoloLens、iOS 和 Android 设备上实现异步全息影像持久性。</span><span class="sxs-lookup"><span data-stu-id="d8faf-279">You can also use <a href="https://docs.microsoft.com/azure/spatial-anchors/overview" target="_blank">Azure Spatial Anchors</a> for asynchronous hologram persistence across HoloLens, iOS and Android devices.</span></span>  <span data-ttu-id="d8faf-280">通过共享持久的云空间定位点，多个设备可以随着时间推移观察相同的持久全息影像，即使这些设备没有同时出现，也是如此。</span><span class="sxs-lookup"><span data-stu-id="d8faf-280">By sharing a durable cloud spatial anchor, multiple devices can observe the same persisted hologram over time, even if those devices are not present together at the same time.</span></span>

### <a name="spatial-anchor-sharing"></a><span data-ttu-id="d8faf-281">空间锚点共享</span><span class="sxs-lookup"><span data-stu-id="d8faf-281">Spatial anchor sharing</span></span>

<span data-ttu-id="d8faf-282">您的应用程序也可以与其他设备实时共享空间锚，从而实现实时共享体验。</span><span class="sxs-lookup"><span data-stu-id="d8faf-282">Your app can also share a spatial anchor in real-time with other devices, allowing for real-time shared experiences.</span></span>

<span data-ttu-id="d8faf-283">使用 <a href="https://docs.microsoft.com/azure/spatial-anchors/overview" target="_blank">Azure 空间锚点</a>，你的应用可以跨多个 HoloLens、IOS 和 Android 设备共享空间锚。</span><span class="sxs-lookup"><span data-stu-id="d8faf-283">By using <a href="https://docs.microsoft.com/azure/spatial-anchors/overview" target="_blank">Azure Spatial Anchors</a>, your app can share a spatial anchor across multiple HoloLens, iOS and Android devices.</span></span> <span data-ttu-id="d8faf-284">通过使每个设备使用相同的空间定位点呈现全息影像，所有用户将看到全息影像显示在现实世界中的相同位置。</span><span class="sxs-lookup"><span data-stu-id="d8faf-284">By having each device render a hologram using the same spatial anchor, all users will see the hologram appear at the same place in the real world.</span></span>

## <a name="avoid-head-locked-content"></a><span data-ttu-id="d8faf-285">避免 head 锁定的内容</span><span class="sxs-lookup"><span data-stu-id="d8faf-285">Avoid head-locked content</span></span>

<span data-ttu-id="d8faf-286">我们强烈建议您不要渲染 head 锁定的内容，这会停留在显示 (如 HUD) 中的固定位置。</span><span class="sxs-lookup"><span data-stu-id="d8faf-286">We strongly discourage rendering head-locked content, which stays at a fixed spot in the display (such as a HUD).</span></span> <span data-ttu-id="d8faf-287">通常情况下，对用户而言，打印头锁定的内容不舒服，并不像世界各地。</span><span class="sxs-lookup"><span data-stu-id="d8faf-287">In general, head-locked content is uncomfortable for users and does not feel like a natural part of their world.</span></span>

<span data-ttu-id="d8faf-288">通常情况下，应将 Head 锁定的内容替换为附加到用户或放置在世界上的全息影像。</span><span class="sxs-lookup"><span data-stu-id="d8faf-288">Head-locked content should usually be replaced with holograms that are attached to the user or placed in the world itself.</span></span> <span data-ttu-id="d8faf-289">例如，通常应将 [游标](cursors.md) 推入世界，并自然地进行缩放，以反映该对象在用户注视下的位置和距离。</span><span class="sxs-lookup"><span data-stu-id="d8faf-289">For example, [cursors](cursors.md) should generally be pushed out into the world, scaling naturally to reflect the position and distance of the object under the user's gaze.</span></span>

## <a name="handling-tracking-errors"></a><span data-ttu-id="d8faf-290">处理跟踪错误</span><span class="sxs-lookup"><span data-stu-id="d8faf-290">Handling tracking errors</span></span>

<span data-ttu-id="d8faf-291">在某些环境（例如深色走廊）中，耳机可能不能使用内置式跟踪在世界上正确定位。</span><span class="sxs-lookup"><span data-stu-id="d8faf-291">In some environments such as dark hallways, it may not be possible for a headset using inside-out tracking to locate itself correctly in the world.</span></span> <span data-ttu-id="d8faf-292">如果不正确地处理，这可能导致全息影像不会显示或显示在错误的位置。</span><span class="sxs-lookup"><span data-stu-id="d8faf-292">This can lead holograms to either not show up or appear at incorrect places if handled incorrectly.</span></span> <span data-ttu-id="d8faf-293">现在，我们讨论了这种情况的发生情况、其对用户体验的影响以及最好地处理这种情况的技巧。</span><span class="sxs-lookup"><span data-stu-id="d8faf-293">We now discuss the conditions in which this can happen, its impact on user experience, and tips to best handle this situation.</span></span>

### <a name="headset-cannot-track-due-to-insufficient-sensor-data"></a><span data-ttu-id="d8faf-294">由于没有足够的传感器数据，耳机无法跟踪</span><span class="sxs-lookup"><span data-stu-id="d8faf-294">Headset cannot track due to insufficient sensor data</span></span>

<span data-ttu-id="d8faf-295">有时，耳机传感器无法确定耳机的位置。</span><span class="sxs-lookup"><span data-stu-id="d8faf-295">Sometimes, the headset's sensors are not able to figure out where the headset is.</span></span> <span data-ttu-id="d8faf-296">如果房间太暗，或者传感器被头发或双手覆盖，或者周围没有足够的纹理，就会发生这种情况。</span><span class="sxs-lookup"><span data-stu-id="d8faf-296">This can happen if the room is dark, or if the sensors are covered by hair or hands, or if the surroundings do not have enough texture.</span></span>

<span data-ttu-id="d8faf-297">出现这种情况时，头戴式耳机将无法跟踪其位置，以呈现全球锁定的全息影像。</span><span class="sxs-lookup"><span data-stu-id="d8faf-297">When this happens, the headset will be unable to track its position with enough accuracy to render world-locked holograms.</span></span> <span data-ttu-id="d8faf-298">您将无法确定空间锚，固定框架或舞台帧相对于设备的位置，但仍可在附加的参考框架中呈现正文锁定的内容。</span><span class="sxs-lookup"><span data-stu-id="d8faf-298">You won't be able to figure out where a spatial anchor, stationary frame or stage frame is relative to the device, but you can still render body-locked content in the attached frame of reference.</span></span>

<span data-ttu-id="d8faf-299">您的应用程序应告诉用户如何获取位置跟踪，并呈现一些用于描述一些提示的回退正文锁定内容，例如，发现传感器并打开更多的灯光。</span><span class="sxs-lookup"><span data-stu-id="d8faf-299">Your app should tell the user how to get positional tracking back, rendering some fallback body-locked content that describes some tips, such as uncovering the sensors and turning on more lights.</span></span>

### <a name="headset-tracks-incorrectly-due-to-dynamic-changes-in-the-environment"></a><span data-ttu-id="d8faf-300">由于环境中的动态更改，耳机跟踪不正确</span><span class="sxs-lookup"><span data-stu-id="d8faf-300">Headset tracks incorrectly due to dynamic changes in the environment</span></span>

<span data-ttu-id="d8faf-301">有时，如果环境中存在大量动态更改，则设备无法正常进行跟踪，例如许多人在房间内浏览。</span><span class="sxs-lookup"><span data-stu-id="d8faf-301">Sometimes, the device cannot track properly if there are lots of dynamic changes in the environment, such as many people walking around in the room.</span></span> <span data-ttu-id="d8faf-302">在这种情况下，当设备尝试在此动态环境中对自身进行跟踪时，全息影像可能看起来像是跳转或偏移。</span><span class="sxs-lookup"><span data-stu-id="d8faf-302">In this case, the holograms may seem to jump or drift as the device tries to track itself in this dynamic environment.</span></span> <span data-ttu-id="d8faf-303">如果按此方案，建议在不太动态的环境中使用该设备。</span><span class="sxs-lookup"><span data-stu-id="d8faf-303">We recommend using the device in a less dynamic environment if you hit this scenario.</span></span>

### <a name="headset-tracks-incorrectly-because-the-environment-has-changed-significantly-over-time"></a><span data-ttu-id="d8faf-304">耳机跟踪不正确，因为随着时间的推移，环境发生了重大变化</span><span class="sxs-lookup"><span data-stu-id="d8faf-304">Headset tracks incorrectly because the environment has changed significantly over time</span></span>

<span data-ttu-id="d8faf-305">有时，当你开始在发生大量更改的环境中使用耳机时 (例如，家具、墙壁 hangings 等 ) 的重大变动时，可能会出现从原始位置移动的一些全息影像。</span><span class="sxs-lookup"><span data-stu-id="d8faf-305">Sometimes, when you start using a headset in an environment which has undergone lot of changes (e.g. significant movement of furniture, wall hangings etc.), it is possible that some holograms may appear shifted from their original locations.</span></span> <span data-ttu-id="d8faf-306">当用户在此新空间中四处移动时，早期的全息影像还可能会跳过。</span><span class="sxs-lookup"><span data-stu-id="d8faf-306">The earlier holograms may also jump around as the user moves around in this new space.</span></span> <span data-ttu-id="d8faf-307">这是因为系统对你的空间的了解不再保留，并且在尝试协调空间的功能时，它会尝试重新映射该环境。</span><span class="sxs-lookup"><span data-stu-id="d8faf-307">This is because the system's understanding of your space no longer holds and it tries to remap the environment while trying to reconcile the features of the room.</span></span> <span data-ttu-id="d8faf-308">在这种情况下，建议鼓励用户在不显示所需位置的情况下将其固定在世界上的全息影像。</span><span class="sxs-lookup"><span data-stu-id="d8faf-308">In this scenario, it is advised to encourage users to re-place holograms they pinned in the world if they are not appearing where expected.</span></span>

### <a name="headset-tracks-incorrectly-due-to-identical-spaces-in-an-environment"></a><span data-ttu-id="d8faf-309">由于环境中的空间相同，耳机跟踪出现错误</span><span class="sxs-lookup"><span data-stu-id="d8faf-309">Headset tracks incorrectly due to identical spaces in an environment</span></span>

<span data-ttu-id="d8faf-310">有时，家庭或其他空间可能有两个相同的区域。</span><span class="sxs-lookup"><span data-stu-id="d8faf-310">Sometimes, a home or other space may have two identical areas.</span></span> <span data-ttu-id="d8faf-311">例如，两个相同的会议室，两个相同的角区，两个相同的海报涵盖了设备的视图。</span><span class="sxs-lookup"><span data-stu-id="d8faf-311">For example, two identical conference rooms, two identical corner areas, two large identical posters that cover the device's field of view.</span></span> <span data-ttu-id="d8faf-312">在这种情况下，设备有时可能会混淆相同的部分，并在内部表示形式中将它们标记为相同。</span><span class="sxs-lookup"><span data-stu-id="d8faf-312">In such scenarios, the device may, at times, get confused between the identical parts and mark them as the same in its internal representation.</span></span> <span data-ttu-id="d8faf-313">这可能会导致某些区域中的全息影像出现在其他位置。</span><span class="sxs-lookup"><span data-stu-id="d8faf-313">This may cause the holograms from some areas to appear in other locations.</span></span> <span data-ttu-id="d8faf-314">设备可能会开始丢失跟踪，因为它的内部表示形式已损坏。</span><span class="sxs-lookup"><span data-stu-id="d8faf-314">The device may start to lose tracking often since its internal representation of the environment has been corrupted.</span></span> <span data-ttu-id="d8faf-315">在这种情况下，建议重置系统的环境理解。</span><span class="sxs-lookup"><span data-stu-id="d8faf-315">In this case, it is advised to reset the system's environmental understanding.</span></span> <span data-ttu-id="d8faf-316">请注意，重置地图将导致丢失所有空间定位。</span><span class="sxs-lookup"><span data-stu-id="d8faf-316">Please note that resetting the map leads to loss of all spatial anchor placements.</span></span> <span data-ttu-id="d8faf-317">这将导致耳机在环境的唯一区域中顺利地进行跟踪。</span><span class="sxs-lookup"><span data-stu-id="d8faf-317">This will cause the headset to track well in the unique areas of the environment.</span></span> <span data-ttu-id="d8faf-318">但是，如果设备再次在相同的区域之间发生混乱，则可能会发生此问题。</span><span class="sxs-lookup"><span data-stu-id="d8faf-318">However, the problem may re-occur if the device gets confused between the identical areas again.</span></span>

## <a name="see-also"></a><span data-ttu-id="d8faf-319">请参阅</span><span class="sxs-lookup"><span data-stu-id="d8faf-319">See also</span></span>
* [<span data-ttu-id="d8faf-320">GDC 2017 演示了空间坐标系统和全息渲染</span><span class="sxs-lookup"><span data-stu-id="d8faf-320">GDC 2017 presentation on spatial coordinate systems and holographic rendering</span></span>](https://channel9.msdn.com/events/GDC/GDC-2017/GDC2017-008)
* [<span data-ttu-id="d8faf-321">Unity 中的坐标系统</span><span class="sxs-lookup"><span data-stu-id="d8faf-321">Coordinate systems in Unity</span></span>](../develop/unity/coordinate-systems-in-unity.md)
* [<span data-ttu-id="d8faf-322">DirectX 中的坐标系统</span><span class="sxs-lookup"><span data-stu-id="d8faf-322">Coordinate systems in DirectX</span></span>](../develop/native/coordinate-systems-in-directx.md)
* [<span data-ttu-id="d8faf-323">空间定位点</span><span class="sxs-lookup"><span data-stu-id="d8faf-323">Spatial anchors</span></span>](spatial-anchors.md)
* [<span data-ttu-id="d8faf-324">混合现实中的共享体验</span><span class="sxs-lookup"><span data-stu-id="d8faf-324">Shared experiences in mixed reality</span></span>](../develop/platform-capabilities-and-apis/shared-experiences-in-mixed-reality.md)
* <span data-ttu-id="d8faf-325"><a href="https://docs.microsoft.com/azure/spatial-anchors" target="_blank">Azure 空间定位点</a></span><span class="sxs-lookup"><span data-stu-id="d8faf-325"><a href="https://docs.microsoft.com/azure/spatial-anchors" target="_blank">Azure Spatial Anchors</a></span></span>
* [<span data-ttu-id="d8faf-326">案例研究 - 看透现实中的洞</span><span class="sxs-lookup"><span data-stu-id="d8faf-326">Case study - Looking through holes in your reality</span></span>](../out-of-scope/case-study-looking-through-holes-in-your-reality.md)
